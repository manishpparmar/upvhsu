$(document).ready(function(){function a(){$.post("/totalnumberofdentalpatients",{},function(a,b,c){a&&Highcharts.chart("dentistcontainer",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Finished vs. Unfinished Appointments"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {y}",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},series:[{name:"Appointments",colorByPoint:!0,data:[{name:"Finished",y:a.finished,sliced:!1,selected:!0},{name:"Unfinished",y:a.unfinished}]}]})})}function e(a){return a%4==0&&a%100!=0||a%400==0}1==$("#dentistdashboard").val()&&a(),$("#staffnotesdentist").keyup(function(){$("#savingstatus").html("Saving..."),$.post("/dentist/updatestaffnotes",{note:$("#staffnotesdentist").val()},function(a,b,c){$("#savingstatus").html("&nbsp;")})}),$(".dental_chart").click(function(){var a=$(this).attr("id").split("_");teethId=a[1],patient_id=$(".patient_id_dental").val(),$.post("/update_dental_record_modal",{teeth_id:teethId,patient_id:patient_id},function(a){null!=a.condition_id?$(".condition").val(a.condition_id):$(".condition").val("0"),null!=a.operation_id?$(".operation").val(a.operation_id):$(".operation").val("0"),window.setTimeout(function(){$("#update-dental-record-modal").modal("show")},3e3)})});var b;$(".dental_chart").hover(function(){var a=$(this).attr("id").split("_"),d=a[0],e=$(this).attr("operation_id"),f=$(this).attr("condition_id");b=setTimeout(function(){"operation"==d?$("#operation_"+e).effect("pulsate",{times:1},1e3):$("#condition_"+f).effect("pulsate",{times:1},1e3)},1e3)},function(){clearTimeout(b)}),$(".updateDentalRecord").click(function(){if($(".condition").val()||$(".operation").val()){var a=$(this).attr("id").split("_");appointmentId=a[1];var b=$(".condition").val(),c=$(".operation").val();null==c&&(c=0),null==b&&(b=0),$.post("/insert_dental_record_modal",{teeth_id:teethId,condition_id:b,operation_id:c,appointment_id:appointmentId},function(a){$("#condition_"+teethId).attr("condition_id",b),1==b?$("#condition_"+teethId).css({fill:"#ff4000"}):2==b?$("#condition_"+teethId).css({fill:"#ffff00"}):3==b?$("#condition_"+teethId).css({fill:"#00ff00"}):4==b?$("#condition_"+teethId).css({fill:"#00ffff"}):5==b?$("#condition_"+teethId).css({fill:"#0000ff"}):$("#condition_"+teethId).css({fill:"white"}),$("#operation_"+teethId).attr("operation_id",c),1==c?$("#operation_"+teethId).css({fill:"#bf00ff"}):2==c?$("#operation_"+teethId).css({fill:"#ff0080"}):3==c?$("#operation_"+teethId).css({fill:"#ff0000"}):4==c?$("#operation_"+teethId).css({fill:"#808080"}):5==c?$("#operation_"+teethId).css({fill:"#194d19"}):$("#operation_"+teethId).css({fill:"white"}),$("#update-dental-record-modal").modal("hide")})}}),$(".updateDentalDiagnosis").click(function(){var a=$(this).attr("id").split("_");appointmentId=a[1],$.post("/update_dental_diagnosis",{appointment_id:appointmentId},function(a){setTimeout(function(){window.location.href="http://localhost:8000/dentist"},5e3)})}),$(".addedDentalRecord").click(function(){$("#confirm_additional_dental_record").modal("show")}),counter=0,$(".additionaldentalrecordforms").change(function(){counter++;var a=40,b=0;counter>6?$("#teethPresent").val()?($("#teethPresent").val()>=0&&$("#teethPresent").val()<=a&&$("#teethPresent").val()&&$("#teethPresent").val()>=b&&$(".addedDentalRecord").removeAttr("disabled"),$("#teethPresent").keyup(function(){$("#teethPresent").val()>=0&&$("#teethPresent").val()<=a&&$("#teethPresent").val()&&$("#teethPresent").val()>=b?$(".addedDentalRecord").removeAttr("disabled"):$(".addedDentalRecord").attr("disabled","disabled")})):$("#teethPresent").keyup(function(){$("#teethPresent").val()>=0&&$("#teethPresent").val()<=a&&$("#teethPresent").val()&&$("#teethPresent").val()>=b?$(".addedDentalRecord").removeAttr("disabled"):$(".addedDentalRecord").attr("disabled","disabled")}):$(".addedDentalRecord").attr("disabled","disabled")}),$(".confirmAdditionalDentalRecord").click(function(){var a=$(this).attr("id").split("_");appointmentId=a[1];var b=$("#selDentalCaries").find(":selected")[0].value,c=$("#selGingivitis").find(":selected")[0].value,d=$("#selPeridontalPocket").find(":selected")[0].value,e=$("#selOralDebris").find(":selected")[0].value,f=$("#selCalculus").find(":selected")[0].value,g=$("#selNeoplasm").find(":selected")[0].value,h=$("#selDentalFacioAnomaly").find(":selected")[0].value,i=$("#teethPresent").val();dental_services_id=[],$("input:checkbox.checkboxDentalService").each(function(){$(this).is(":checked")&&dental_services_id.push($(this).attr("id"))}),b&&c&&d&&e&&f&&g&&h&&i?$.post("/additional_dental_record",{appointment_id:appointmentId,dental_caries:b,gingivitis:c,peridontal_pocket:d,oral_debris:e,calculus:f,neoplasm:g,dental_facio_anomaly:h,teeth_present:i,dental_services_id:dental_services_id},function(a){return $("#confirm_additional_dental_record").modal("hide"),$("#selDentalCaries").attr("disabled","disabled"),$("#selGingivitis").attr("disabled","disabled"),$("#selPeridontalPocket").attr("disabled","disabled"),$("#selOralDebris").attr("disabled","disabled"),$("#selCalculus").attr("disabled","disabled"),$("#selNeoplasm").attr("disabled","disabled"),$("#selDentalFacioAnomaly").attr("disabled","disabled"),$("#teethPresent").attr("disabled","disabled"),$("#additionalDentalRecordInput").attr("disabled","disabled"),$(".addedDentalRecord").attr("disabled","disabled"),$("#confirm_additional_dental_record").modal("hide"),$("#additionalDentalRecordPanelBody").css("background-color","#d6e9c6"),window.location.href="http://upvhsu.pe.hu/dentist",!1}):$("#confirm_additional_dental_record").modal("hide")});var d=0;$(".checkboxDentalService").click(function(){$(this).is(":checked")?d++:d--,d>0?($(".additionaldentalrecordforms").removeAttr("disabled"),$("#teethPresent").removeAttr("disabled")):($(".additionaldentalrecordforms").attr("disabled","disabled"),$("#teethPresent").attr("disabled","disabled"),$(".additionaldentalrecordforms").val($(".additionaldentalrecordforms option:first").val()),$("#teethPresent").val(""))}),$(".addmoredentalsched").click(function(){$(this).parents(".dental_manage").find("tbody").append('<tr class="schedule_tr"><td><input type="date" class="form-control"/></td><td><input type="time" class="form-control starthour"/></td><td><input type="time" class="form-control endhour"/></td><td><button class="btn btn-danger btn-sm removedentalsched">Remove</button></td></tr>'),$(".removedentalsched").click(function(){$(this).closest("tr").remove()})}),$(".removedentalsched").click(function(){$(this).closest("tr").remove()}),$("#adddentalschedule").click(function(){var a=[];$(".schedule_tr").each(function(){$(this).find('input[type="date"]').val()&&$(this).find(".starthour").val()&&$(this).find(".endhour").val()&&a.push($(this).find('input[type="date"]').val()+" "+$(this).find(".starthour").val()+":00;;;"+$(this).find('input[type="date"]').val()+" "+$(this).find(".endhour").val()+":00")}),a.length>0&&$.post("/addschedule_dental",{schedules:a},function(a){$("button").attr("disabled","disabled"),$("input").attr("disabled","disabled"),$("#manageschedulepanel").css("background-color","#d6e9c6")})}),$("#search_patientdental").keyup(function(){$("#paginateDental").hide(),$("#searchlistofallpatientsdental").hide(),$("#searchTabledental").hide(),$("#searchloadingdental").show();var a=$("#search_patientdental").val();$.post("/searchpatientnamerecorddental",{search_string:a},function(a){if($("#searchResultsdental").html(""),a.counter>0){output="";for(var b=0;b<a.searchpatientidarray.length;b++)output+="<tr><td><a class='searchQueryResultsDental' id='resultId_"+a.searchpatientidarray[b]+"'>"+a.searchpatientlastnamearray[b]+", "+a.searchpatientfirstnamearray[b]+"</a></td></tr>";$("#searchloadingdental").hide(),$("#searchResultsdental").html(output),$("#searchTabledental").show(),$(".searchQueryResultsDental").click(function(){var a=$(this).attr("id").split("_")[1];$.post("/displaypatientrecordsearchdental",{patient_id:a},function(b){output="",$("#ageTd").html(b.patient_info.age),"F"==b.patient_info.sex?$("#sexTd").html("Female"):$("#sexTd").html("Male"),1==b.patient_info.display_course_and_year_level?($("#courseTd").html(b.patient_info.degree_program_description),$("#yearlevelTd").html(b.patient_info.year_level),$("#courseRow").show(),$("#yearlevelRow").show()):($("#courseTd").html(""),$("#yearlevelTd").html(""),$("#courseRow").hide(),$("#yearlevelRow").hide()),$("#birthdateTd").html(b.patient_info.birthday),$("#religionTd").html(b.patient_info.religion),$("#nationalityTd").html(b.patient_info.nationality),$("#fatherTd").html(b.patient_info.father_first_name+" "+b.patient_info.father_last_name),$("#motherTd").html(b.patient_info.mother_first_name+" "+b.patient_info.mother_last_name),$("#homeaddressTd").html(b.patient_info.street+", "+b.patient_info.town+", "+b.patient_info.province),$("#restelTd").html(b.patient_info.residence_telephone_number),$("#personalcontactnumberTd").html(b.patient_info.personal_contact_number),$("#guardiannameTd").html(b.patient_info.guardian_first_name+" "+b.patient_info.guardian_last_name),$("#guardianaddressTd").html(b.patient_info.guardian_street+", "+b.patient_info.guardian_town+", "+b.patient_info.guardian_province),$("#guardianrelationshipTd").html(b.patient_info.relationship),$("#guardiantelTd").html(b.patient_info.guardian_tel_number),$("#guardiancpTd").html(b.patient_info.guardian_cellphone),$("#illnessesTd").html(b.patient_info.illness),$("#operationTd").html(b.patient_info.operation),$("#allergiesTd").html(b.patient_info.allergies),$("#famhistoryTd").html(b.patient_info.family),$("#maintenanceTd").html(b.patient_info.maintenance_medication),$("#patientInfoModalFooter").html('<a href="/dentist/viewrecords/'+a+'" class="btn btn-info" role="button" id=viewrecordsfromsearchdental>View Records</a>'),b.patient_info.picture?$("#searchPatientRecordInfoImg").attr("src","/images/"+b.patient_info.picture):$("#searchPatientRecordInfoImg").attr("src","/images/blankprofpic.png"),$("#searchPatientRecordInfoDental").modal(),$("#addnewrecordfromsearch").click(function(){$("#searchPatientRecordInfoDental").modal("hide")}),$("#viewrecordsfromsearch").click(function(){$("#searchPatientRecordInfoDental").modal("hide")})})})}else"blankstring"==a.counter?($("#paginateDental").show(),$("#searchloadingdental").hide(),$("#searchTabledental").hide(),$("#searchResultsdental").html(""),$("#searchlistofallpatientsdental").show()):($("#searchloadingdental").hide(),$("#searchlistofallpatientsdental").hide(),$("#searchTabledental").show(),$("#searchResultsdental").html("<tr><td>No results found.</td></tr>"))})}),$(".listofallpatientsdental").click(function(){var a=$(this).attr("id").split("_")[1];$.post("/displaypatientrecordsearchdental",{patient_id:a},function(b){output="",$("#ageTd").html(b.patient_info.age),"F"==b.patient_info.sex?$("#sexTd").html("Female"):$("#sexTd").html("Male"),1==b.patient_info.display_course_and_year_level?($("#courseTd").html(b.patient_info.degree_program_description),$("#yearlevelTd").html(b.patient_info.year_level),$("#courseRow").show(),$("#yearlevelRow").show()):($("#courseTd").html(""),$("#yearlevelTd").html(""),$("#courseRow").hide(),$("#yearlevelRow").hide()),$("#birthdateTd").html(b.patient_info.birthday),$("#religionTd").html(b.patient_info.religion),$("#nationalityTd").html(b.patient_info.nationality),$("#fatherTd").html(b.patient_info.father_first_name+" "+b.patient_info.father_last_name),$("#motherTd").html(b.patient_info.mother_first_name+" "+b.patient_info.mother_last_name),$("#homeaddressTd").html(b.patient_info.street+", "+b.patient_info.town+", "+b.patient_info.province),$("#restelTd").html(b.patient_info.residence_telephone_number),$("#personalcontactnumberTd").html(b.patient_info.personal_contact_number),$("#guardiannameTd").html(b.patient_info.guardian_first_name+" "+b.patient_info.guardian_last_name),$("#guardianaddressTd").html(b.patient_info.guardian_street+", "+b.patient_info.guardian_town+", "+b.patient_info.guardian_province),$("#guardianrelationshipTd").html(b.patient_info.relationship),$("#guardiantelTd").html(b.patient_info.guardian_tel_number),$("#guardiancpTd").html(b.patient_info.guardian_cellphone),$("#illnessesTd").html(b.patient_info.illness),$("#operationTd").html(b.patient_info.operation),$("#allergiesTd").html(b.patient_info.allergies),$("#famhistoryTd").html(b.patient_info.family),$("#maintenanceTd").html(b.patient_info.maintenance_medication),$("#patientInfoModalFooter").html('<a href="/dentist/viewrecords/'+a+'" class="btn btn-info" role="button" id=viewrecordsfromsearchdental>View Records</a>'),b.patient_info.picture?$("#searchPatientRecordInfoImg").attr("src","/images/"+b.patient_info.picture):$("#searchPatientRecordInfoImg").attr("src","/images/blankprofpic.png"),$("#searchPatientRecordInfoDental").modal(),$("#viewrecordsfromsearchdental").click(function(){$("#searchPatientRecordInfoDental").modal("hide")})})}),$("#search_month").change(function(){var a=$(this).find(":selected")[0].value;if($("#search_date").html(""),$("#search_date").removeAttr("disabled"),$("#search_date").append('<option value="00" selected></option>'),0==a&&$("#search_date").attr("disabled","disabled"),1==a||3==a||5==a||7==a||8==a||10==a||12==a)for(var b=1;b<32;b++)$("#search_date").append('<option value="'+b+'">'+b+"</option>");else if(2==a)if(e($("#search_year").find(":selected")[0].value))for(var b=1;b<30;b++)$("#search_date").append('<option value="'+b+'">'+b+"</option>");else for(var b=1;b<29;b++)$("#search_date").append('<option value="'+b+'">'+b+"</option>");else if(4==a||6==a||9==a||11==a)for(var b=1;b<31;b++)$("#search_date").append('<option value="'+b+'">'+b+"</option>")}),$("#search_year").change(function(){var a=$(this).find(":selected")[0].value,b=$("#search_month").find(":selected")[0].value;if(1==e(a)&&2==b){$("#search_date").html(""),$("#search_date").append('<option value="00" selected></option>');for(var c=1;c<30;c++)$("#search_date").append('<option value="'+c+'">'+c+"</option>")}if(0==e(a)&&2==b){$("#search_date").html(""),$("#search_date").append('<option value="00" selected></option>');for(var c=1;c<29;c++)$("#search_date").append('<option value="'+c+'">'+c+"</option>")}}),$("#searchbydatebuttondental").click(function(){$("#paginateDental").hide(),$("#searchlistofallpatients").hide(),$("#searchTable").hide(),$("#searchloading").show(),$.post("/searchpatientbydaterecorddental",{search_month:$("#search_month").find(":selected")[0].value,search_date:$("#search_date").find(":selected")[0].value,search_year:$("#search_year").find(":selected")[0].value},function(a){if($("#searchResults").html(""),a.counter>0){output="";for(var b=0;b<a.searchpatientappointmentidyarray.length;b++)output+="<tr><td>"+a.searchpatientscheduledayarray[b]+"</td><td>"+a.searchpatientscheduletimearray[b]+"</td><td><a class='searchQueryResults' href='/dentist/viewdentalrecord/"+a.searchpatientappointmentidyarray[b]+"/' dentalrecorddate' id='dentalrecorddate_"+a.searchpatientappointmentidyarray[b]+"'>"+a.searchpatientnamearray[b]+"</a></td></tr>";$("#searchlistofallpatients").hide(),$("#searchloading").hide(),$("#searchResults").html(output),$("#searchTable").show(),$(".dentalrecorddate").click(function(){var a=$(this).attr("id").split("_")[1];$.post("/viewindividualrecordfromsearchdental",{dental_appointment_id:a},function(a,b,c){$("#viewDentalRecordBasedOnDateModal").modal()})})}else"blankstring"==a.counter?($("#paginateDental").show(),$("#searchloading").hide(),$("#searchTable").hide(),$("#searchResults").html(""),$("#searchlistofallpatients").show()):($("#searchloading").hide(),$("#searchlistofallpatients").hide(),$("#searchTable").show(),$("#searchResults").html("<tr><td>No results found.</td></tr>"))})})}),$(document).ready(function(){function a(){$.post("/totalnumberofpatients",{},function(a,b,c){a&&Highcharts.chart("container",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Finished vs. Unfinished Appointments"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {y}",style:{color:Highcharts.theme&&Highcharts.theme.contrastTextColor||"black"}}}},series:[{name:"Appointments",colorByPoint:!0,data:[{name:"Finished",y:a.finished,sliced:!1,selected:!0},{name:"Unfinished",y:a.unfinished}]}]})})}function c(a){return a%4==0&&a%100!=0||a%400==0}$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=_token]").attr("content")}}),1==$("#doctordashboard").val()&&a(),$("#staffnotesdoctor").keyup(function(){$("#savingstatus").html("Saving..."),$.post("/doctor/updatestaffnotes",{note:$("#staffnotesdoctor").val()},function(a,b,c){$("#savingstatus").html("&nbsp;")})}),numOfClicksMedical_Diagnosis=0,percentageMedical_Diagnosis=20,$("#closeButtonMedicalDiagnosis, #xButtonMedicalDiagnosis").click(function(){$("#create-medical-record-modal").modal("hide"),$("#requestsFromDoctor").load(location.href+" #requestsFromDoctor"),setTimeout(function(){numOfClicksMedical_Diagnosis=0,percentageMedical_Diagnosis=20,0==numOfClicksMedical_Diagnosis&&($("#physicalexamination").show(),$("#laboratoryresult").hide(),$("#remarksDiv").hide(),$("#prescriptionDiv").hide(),$("#nextButtonMedicalDiagnosis").show(),$("#backButtonMedicalDiagnosis").hide(),$("#requestLabXrayDiv").hide(),$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("1 of 5"))},1e3)}),$("#nextButtonMedicalDiagnosis").click(function(){numOfClicksMedical_Diagnosis++,1==numOfClicksMedical_Diagnosis&&($("#physicalexamination").hide(),$("#requestLabXrayDiv").show(),$("#backButtonMedicalDiagnosis").show(),percentageMedical_Diagnosis+=20,$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("2 of 5")),2==numOfClicksMedical_Diagnosis&&($("#requestLabXrayDiv").hide(),$("#laboratoryresult").show(),percentageMedical_Diagnosis+=20,$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("3 of 5")),3==numOfClicksMedical_Diagnosis&&($("#laboratoryresult").hide(),$("#remarksDiv").show(),percentageMedical_Diagnosis+=20,$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("4 of 5")),4==numOfClicksMedical_Diagnosis&&($("#remarksDiv").hide(),$("#prescriptionDiv").show(),$("#nextButtonMedicalDiagnosis").hide(),percentageMedical_Diagnosis+=20,$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("5 of 5"))}),$("#backButtonMedicalDiagnosis").click(function(){numOfClicksMedical_Diagnosis--,3==numOfClicksMedical_Diagnosis&&($("#prescriptionDiv").hide(),$("#remarksDiv").show(),$("#nextButtonMedicalDiagnosis").show(),percentageMedical_Diagnosis-=20,$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("4 of 5")),2==numOfClicksMedical_Diagnosis&&($("#remarksDiv").hide(),$("#laboratoryresult").show(),percentageMedical_Diagnosis-=20,$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("3 of 5")),1==numOfClicksMedical_Diagnosis&&($("#laboratoryresult").hide(),$("#requestLabXrayDiv").show(),percentageMedical_Diagnosis-=20,$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("2 of 5")),0==numOfClicksMedical_Diagnosis&&($("#requestLabXrayDiv").hide(),$("#physicalexamination").show(),$("#backButtonMedicalDiagnosis").hide(),percentageMedical_Diagnosis-=20,$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("1 of 5"))}),$("a[data-toggle='collapse']").click(function(){$(this).find("span").hasClass("glyphicon glyphicon-chevron-right")?$(this).find("span").removeClass("glyphicon glyphicon-chevron-right").addClass("glyphicon glyphicon-chevron-down"):$(this).find("span").removeClass("glyphicon glyphicon-chevron-down").addClass("glyphicon glyphicon-chevron-right")}),$(".addMedicalRecordButton").click(function(){if($("#create-medical-record-modal input").removeAttr("disabled"),$("#create-medical-record-modal textarea").removeAttr("disabled"),$("#create-medical-record-modal #hemoglobin, #create-medical-record-modal #hemasocrit, #create-medical-record-modal #wbc, #create-medical-record-modal #pus-cells, #create-medical-record-modal #rbc, #create-medical-record-modal #albumin, #create-medical-record-modal #sugar, #create-medical-record-modal #macroscopic, #create-medical-record-modal #microscopic, #create-medical-record-modal #drug-test, #create-medical-record-modal #chest-xray").attr("disabled","disabled"),$("#create-medical-record-modal #height").focus(),$(".medical-button-container").html(""),$("#create-medical-record-modal input, #create-medical-record-modal textarea").val(""),$(".checkboxMedicalService").removeAttr("checked").removeAttr("disabled"),$("#physicalexamaccordion input").attr("disabled","disabled"),$(this).attr("id")){var b=$(this).attr("id").split("_")[1];$.post("/viewmedicaldiagnosis",{appointment_id:b},function(c){if($(".personal-information-name").html("").append("<p>"+c.patient_name+"</p>"),$(".personal-information-reasons").html("").append("<p>"+c.reasons+"</p>"),"no"==c.hasRecord)$("#height").val(""),$("#weight").val(""),$("#blood-pressure").val(""),$("#pulse-rate").val(""),$("#right-eye").val(""),$("#left-eye").val(""),$("#head").val(""),$("#eent").val(""),$("#neck").val(""),$("#chest").val(""),$("#heart").val(""),$("#lungs").val(""),$("#abdomen").val(""),$("#back").val(""),$("#skin").val(""),$("#extremities").val(""),$("#hemoglobin").val(""),$("#hemasocrit").val(""),$("#wbc").val(""),$("#pus-cells").val(""),$("#rbc").val(""),$("#albumin").val(""),$("#sugar").val(""),$("#macroscopic").val(""),$("#microscopic").val(""),$("#drug-test").val(""),$("#chest-xray").val(""),$("#remarks").val(""),$("#prescription").val(""),$(".medical-button-container").html("").append("<button type='button' class='btn btn-success add-medical-record-button' id='add-medical-record-button_"+b+"'>Add</button>"),$(".medical-button-container .add-medical-record-button").click(function(){if(medical_services_id=[],$("input:checkbox.checkboxMedicalService").each(function(){$(this).is(":checked")&&!$(this).attr("disabled")&&medical_services_id.push($(this).attr("id"))}),$("#height").val()&&$("#weight").val()&&$("#blood-pressure").val()&&$("#pulse-rate").val()&&$("#right-eye").val()&&$("#left-eye").val()&&$("#head").val()&&$("#eent").val()&&$("#neck").val()&&$("#neck").val()&&$("#chest").val()&&$("#heart").val()&&$("#heart").val()&&$("#lungs").val()&&$("#abdomen").val()&&$("#back").val()&&$("#skin").val()&&$("#extremities").val()){var a=$(this).attr("id").split("_")[1],b=$("#height").val(),c=$("#weight").val(),d=$("#blood-pressure").val(),e=$("#pulse-rate").val(),f=$("#right-eye").val(),g=$("#left-eye").val(),h=$("#head").val(),i=$("#eent").val(),j=$("#neck").val(),k=$("#chest").val(),l=$("#heart").val(),m=$("#lungs").val(),n=$("#abdomen").val(),o=$("#back").val(),p=$("#skin").val(),q=$("#extremities").val(),r=$("#remarks").val(),s=$("#prescription").val();if($("#requestCBC").is(":checked"))var t="yes";else var t="no";if($("#requestUrinalysis").is(":checked"))var u="yes";else var u="no";if($("#requestFecalysis").is(":checked"))var v="yes";else var v="no";if($("#requestDrugTest").is(":checked"))var w="yes";else var w="no";if($("#requestXray").is(":checked"))var x="yes";else var x="no";$.post("/addmedicaldiagnosis",{appointment_id:a,height:b,weight:c,blood_pressure:d,pulse_rate:e,right_eye:f,left_eye:g,head:h,eent:i,neck:j,chest:k,heart:l,lungs:m,abdomen:n,back:o,skin:p,extremities:q,remarks:r,prescription:s,request_cbc:t,request_urinalysis:u,request_fecalysis:v,request_drug_test:w,request_xray:x,medical_services_id:medical_services_id},function(a){$("#create-medical-record-modal").modal("hide"),$("#requestsFromDoctor").load(location.href+" #requestsFromDoctor"),setTimeout(function(){numOfClicksMedical_Diagnosis=0,percentageMedical_Diagnosis=20,0==numOfClicksMedical_Diagnosis&&($("#physicalexamination").show(),$("#laboratoryresult").hide(),$("#remarksDiv").hide(),$("#prescriptionDiv").hide(),$("#nextButtonMedicalDiagnosis").show(),$("#backButtonMedicalDiagnosis").hide(),$("#requestLabXrayDiv").hide(),$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("1 of 5"))},1e3)})}});else{if($(".requestCheckbox").addClass("checkbox disabled requestCheckbox"),$(".requestCheckbox input").attr("disabled","disabled"),c.physical_examination){$("#height").val(c.physical_examination.height),$("#weight").val(c.physical_examination.weight),$("#blood-pressure").val(c.physical_examination.blood_pressure),$("#pulse-rate").val(c.physical_examination.pulse_rate),$("#right-eye").val(c.physical_examination.right_eye),$("#left-eye").val(c.physical_examination.left_eye),$("#head").val(c.physical_examination.head),$("#eent").val(c.physical_examination.eent),$("#neck").val(c.physical_examination.neck),$("#chest").val(c.physical_examination.chest),$("#heart").val(c.physical_examination.heart),$("#lungs").val(c.physical_examination.lungs),$("#abdomen").val(c.physical_examination.abdomen),$("#back").val(c.physical_examination.back),$("#skin").val(c.physical_examination.skin),$("#extremities").val(c.physical_examination.extremities),$("#physicalexamination input").attr("disabled","disabled"),$(".checkboxMedicalService").removeAttr("disabled");for(var d=0;d<c.medical_billing_status.length;d++)$("#"+c.medical_billing_status[d].medical_service_id+".checkboxMedicalService").prop("checked",!0),$(".checkboxMedicalService").prop("disabled",!0),$("#patient_type_radio_lab").prop("disabled",!0)}else $("#height").val(""),$("#weight").val(""),$("#blood-pressure").val(""),$("#pulse-rate").val(""),$("#right-eye").val(""),$("#left-eye").val(""),$("#head").val(""),$("#eent").val(""),$("#neck").val(""),$("#chest").val(""),$("#heart").val(""),$("#lungs").val(""),$("#abdomen").val(""),$("#back").val(""),$("#skin").val(""),$("#extremities").val(""),$("#physicalexamination input").removeAttr("disabled");c.cbc_result?(null!=c.cbc_result.hemoglobin&&null!=c.cbc_result.hemasocrit&&null!=c.cbc_result.wbc||($("#remarks").attr("disabled","disabled"),$("#prescription").attr("disabled","disabled")),$("#hemoglobin").val(c.cbc_result.hemoglobin),$("#hemasocrit").val(c.cbc_result.hemasocrit),$("#wbc").val(c.cbc_result.wbc),$("#requestCBC").attr("checked","checked").attr("disabled","disabled")):($("#hemoglobin").val(""),$("#hemasocrit").val(""),$("#wbc").val("")),c.urinalysis_result?(null!=c.urinalysis_result.pus_cells&&null!=c.urinalysis_result.rbc&&null!=c.urinalysis_result.albumin&&null!=c.urinalysis_result.sugar||($("#remarks").attr("disabled","disabled"),$("#prescription").attr("disabled","disabled")),$("#pus-cells").val(c.urinalysis_result.pus_cells),$("#rbc").val(c.urinalysis_result.rbc),$("#albumin").val(c.urinalysis_result.albumin),$("#sugar").val(c.urinalysis_result.sugar),$("#requestUrinalysis").attr("disabled","disabled").attr("checked","checked")):($("#pus-cells").val(""),$("#rbc").val(""),$("#albumin").val(""),$("#sugar").val("")),c.fecalysis_result?(null!=c.fecalysis_result.macroscopic&&null!=c.fecalysis_result.microscopic||($("#remarks").attr("disabled","disabled"),$("#prescription").attr("disabled","disabled")),$("#macroscopic").val(c.fecalysis_result.macroscopic),$("#microscopic").val(c.fecalysis_result.microscopic),$("#requestFecalysis").attr("disabled","disabled").attr("checked","checked")):($("#macroscopic").val(""),$("#microscopic").val("")),c.drug_test_result?(null==c.drug_test_result.drug_test_result&&($("#remarks").attr("disabled","disabled"),$("#prescription").attr("disabled","disabled")),$("#drug-test").val(c.drug_test_result.drug_test_result),$("#requestDrugTest").attr("disabled","disabled").attr("checked","checked")):$("#drug-test").val(""),c.chest_xray_result?(null==c.chest_xray_result.xray_result&&($("#remarks").attr("disabled","disabled"),$("#prescription").attr("disabled","disabled")),$("#chest-xray").val(c.chest_xray_result.xray_result),$("#requestXray").attr("disabled","disabled").attr("checked","checked")):$("#chest-xray").val(""),c.remark&&($("#remarks").val(c.remark.remark),$("#remarks").attr("disabled","disabled")),c.prescription&&($("#prescription").val(c.prescription.prescription),$("#prescription").attr("disabled","disabled")),c.prescription&&c.prescription||$(".medical-button-container").append("<button type='button' class='btn btn-success update-medical-record-button' id='update-medical-record-button_"+b+"'>Update</button>"),$(".medical-button-container .update-medical-record-button").click(function(){var b=$(this).attr("id").split("_")[1],c=$("#height").val(),d=$("#weight").val(),e=$("#blood-pressure").val(),f=$("#pulse-rate").val(),g=$("#right-eye").val(),h=$("#left-eye").val(),i=$("#head").val(),j=$("#eent").val(),k=$("#neck").val(),l=$("#chest").val(),m=$("#heart").val(),n=$("#lungs").val(),o=$("#abdomen").val(),p=$("#back").val(),q=$("#skin").val(),r=$("#extremities").val(),s=$("#remarks").val(),t=$("#prescription").val();if($("#requestCBC").is(":checked"))var u="yes";else var u="no";if($("#requestUrinalysis").is(":checked"))var v="yes";else var v="no";if($("#requestFecalysis").is(":checked"))var w="yes";else var w="no";if($("#requestDrugTest").is(":checked"))var x="yes";else var x="no";if($("#requestXray").is(":checked"))var y="yes";else var y="no";$.post("/updatemedicaldiagnosis",{appointment_id:b,height:c,weight:d,blood_pressure:e,pulse_rate:f,right_eye:g,left_eye:h,head:i,eent:j,neck:k,chest:l,heart:m,lungs:n,abdomen:o,back:p,skin:q,extremities:r,remarks:s,prescription:t,request_cbc:u,request_urinalysis:v,request_fecalysis:w,request_drug_test:x,request_xray:y},function(c){c.status&&"done"==c.status&&(a(),$("#addMedicalRecordButton_"+b).closest("tr").remove()),$("#create-medical-record-modal").modal("hide"),$("#requestsFromDoctor").load(location.href+" #requestsFromDoctor"),setTimeout(function(){numOfClicksMedical_Diagnosis=0,percentageMedical_Diagnosis=20,0==numOfClicksMedical_Diagnosis&&($("#physicalexamination").show(),$("#laboratoryresult").hide(),$("#remarksDiv").hide(),$("#prescriptionDiv").hide(),$("#nextButtonMedicalDiagnosis").show(),$("#backButtonMedicalDiagnosis").hide(),$("#requestLabXrayDiv").hide(),$("#changeProgress_MedicalDiagnosis").attr("aria-valuenow",percentageMedical_Diagnosis).css("width",percentageMedical_Diagnosis+"%").html("1 of 5"))},1e3)})})}$("#create-medical-record-modal").modal().delay(500)})}});var b=0;$(".requestCheckbox input").click(function(){$(this).is(":checked")?b++:b--,b>0?($("#remarksDiv textarea").attr("disabled","disabled"),$("#prescriptionDiv textarea").attr("disabled","disabled")):($("#remarksDiv textarea").val(""),$("#prescriptionDiv textarea").val(""),$("#remarksDiv textarea").removeAttr("disabled"),$("#prescriptionDiv textarea").removeAttr("disabled"))}),$(".addmoremedicalsched").click(function(){$(this).parents(".medical_manage").find("tbody").append('<tr class="schedule_tr"><td><input type="date" class="form-control"/></td><td><button class="btn btn-danger btn-sm removemedicalsched">Remove</button></td></tr>'),$(".removemedicalsched").click(function(){$(this).closest("tr").remove()})}),$(".removemedicalsched").click(function(){$(this).closest("tr").remove()}),$("#addmedicalschedule").click(function(){var a=[];$(".schedule_tr").each(function(){$(this).find('input[type="date"]')&&a.push($(this).find('input[type="date"]').val())}),a.length>0&&$.post("/addschedule_medical",{schedules:a},function(a){$("button").attr("disabled","disabled"),$("input").attr("disabled","disabled"),$("#manageschedulepanel").css("background-color","#d6e9c6")})}),$("#search_month").change(function(){var a=$(this).find(":selected")[0].value;if($("#search_date").html(""),$("#search_date").removeAttr("disabled"),$("#search_date").append('<option value="00" selected></option>'),0==a&&$("#search_date").attr("disabled","disabled"),1==a||3==a||5==a||7==a||8==a||10==a||12==a)for(var b=1;b<32;b++)$("#search_date").append('<option value="'+b+'">'+b+"</option>");else if(2==a)if(c($("#search_year").find(":selected")[0].value))for(var b=1;b<30;b++)$("#search_date").append('<option value="'+b+'">'+b+"</option>");else for(var b=1;b<29;b++)$("#search_date").append('<option value="'+b+'">'+b+"</option>");else if(4==a||6==a||9==a||11==a)for(var b=1;b<31;b++)$("#search_date").append('<option value="'+b+'">'+b+"</option>")}),$("#search_year").change(function(){var a=$(this).find(":selected")[0].value,b=$("#search_month").find(":selected")[0].value;if(1==c(a)&&2==b){$("#search_date").html(""),$("#search_date").append('<option value="00" selected></option>');for(var d=1;d<30;d++)$("#search_date").append('<option value="'+d+'">'+d+"</option>")}if(0==c(a)&&2==b){$("#search_date").html(""),$("#search_date").append('<option value="00" selected></option>');for(var d=1;d<29;d++)$("#search_date").append('<option value="'+d+'">'+d+"</option>")}}),$("#searchbydatebutton").click(function(){$("#paginateMedical").hide(),$("#searchlistofallpatients").hide(),$("#searchTable").hide(),$("#searchloading").show(),$.post("/searchpatientbydaterecord",{search_month:$("#search_month").find(":selected")[0].value,search_date:$("#search_date").find(":selected")[0].value,search_year:$("#search_year").find(":selected")[0].value},function(a){if($("#searchResults").html(""),a.counter>0){$("#paginateMedical").hide(),output="";for(var b=0;b<a.searchpatientappointmentidyarray.length;b++)output+="<tr><td>"+a.searchpatientscheduledayarray[b]+"</td><td><a class='searchQueryResults medicalrecorddate' id='medicalrecorddate_"+a.searchpatientappointmentidyarray[b]+"'>"+a.searchpatientnamearray[b]+"</a></td></tr>";$("#searchlistofallpatients").hide(),$("#searchloading").hide(),$("#searchResults").html(output),$("#searchTable").show(),$(".medicalrecorddate").click(function(){var a=$(this).attr("id").split("_")[1];$.post("/viewindividualrecordfromsearch",{medical_appointment_id:a},function(a,b,c){a.physical_examination?($("#heightTd").html(a.physical_examination.height),$("#weightTd").html(a.physical_examination.weight),$("#bpTd").html(a.physical_examination.blood_pressure),$("#prTd").html(a.physical_examination.pulse_rate),$("#righteyeTd").html(a.physical_examination.right_eye),$("#lefteyeTd").html(a.physical_examination.left_eye),$("#headTd").html(a.physical_examination.head),$("#eentTd").html(a.physical_examination.eent),$("#neckTd").html(a.physical_examination.neck),$("#chestTd").html(a.physical_examination.chest),$("#heartTd").html(a.physical_examination.heart),$("#lungsTd").html(a.physical_examination.lungs),$("#abdomenTd").html(a.physical_examination.abdomen),$("#backTd").html(a.physical_examination.back),$("#skinTd").html(a.physical_examination.skin),$("#extremitiesTd").html(a.physical_examination.extremities)):($("#heightTd").html(""),$("#weightTd").html(""),$("#bpTd").html(""),$("#prTd").html(""),$("#righteyeTd").html(""),$("#lefteyeTd").html(""),$("#headTd").html(""),$("#eentTd").html(""),$("#neckTd").html(""),$("#chestTd").html(""),$("#heartTd").html(""),$("#lungsTd").html(""),$("#abdomenTd").html(""),$("#backTd").html(""),$("#skinTd").html(""),$("#extremitiesTd").html("")),a.cbc_result?($("#hemoglobinTd").html(a.cbc_result.hemoglobin),$("#hemasocritTd").html(a.cbc_result.hemasocrit),$("#wbcTd").html(a.cbc_result.wbc)):($("#hemoglobinTd").html(""),$("#hemasocritTd").html(""),$("#wbcTd").html("")),a.urinalysis_result?($("#puscellsTd").html(a.urinalysis_result.pus_cells),$("#rbcTd").html(a.urinalysis_result.rbc),$("#albuminTd").html(a.urinalysis_result.albumin),$("#sugarTd").html(a.urinalysis_result.sugar)):($("#puscellsTd").html(""),$("#rbcTd").html(""),$("#albuminTd").html(""),$("#sugarTd").html("")),a.fecalysis_result?($("#macroscopicTd").html(a.fecalysis_result.macroscopic),$("#microscopicTd").html(a.fecalysis_result.microscopic)):($("#macroscopicTd").html(""),$("#microscopicTd").html("")),a.drug_test_result?$("#drugtestTd").html(a.drug_test_result.drug_test):$("#drugtestTd").html(""),a.chest_xray_result?$("#chestxrayTd").html(a.chest_xray_result.xray_result):$("#cchestxrayTd").html(""),a.remark?$("#remarksTd").html(a.remark.remark):$("#remarksTd").html(""),a.prescription?$("#prescriptionTd").html(a.prescription.prescription):$("#prescriptionTd").html(""),$("#viewMedicalRecordBasedOnDateModal").modal()})})}else"blankstring"==a.counter?($("#paginateMedical").show(),$("#searchloading").hide(),$("#searchTable").hide(),$("#searchResults").html(""),$("#searchlistofallpatients").show()):($("#searchloading").hide(),$("#searchlistofallpatients").hide(),$("#searchTable").show(),$("#searchResults").html("<tr><td>No results found.</td></tr>"))})}),$("#search_patient").keyup(function(){$("#paginateMedical").hide(),$("#searchlistofallpatients").hide(),$("#searchTable").hide(),$("#searchloading").show();var a=$("#search_patient").val();$.post("/searchpatientnamerecord",{search_string:a},function(a){if($("#searchResults").html(""),a.counter>0){output="";for(var b=0;b<a.searchpatientidarray.length;b++)output+="<tr><td><a class='searchQueryResults' id='resultId_"+a.searchpatientidarray[b]+"'>"+a.searchpatientlastnamearray[b]+", "+a.searchpatientfirstnamearray[b]+"</a></td></tr>";$("#searchloading").hide(),$("#searchResults").html(output),$("#searchTable").show(),$(".searchQueryResults").click(function(){var a=$(this).attr("id").split("_")[1];$.post("/displaypatientrecordsearch",{patient_id:a},function(b){output="",$("#ageTd").html(b.patient_info.age),"F"==b.patient_info.sex?$("#sexTd").html("Female"):$("#sexTd").html("Male"),1==b.patient_info.display_course_and_year_level?($("#courseTd").html(b.patient_info.degree_program_description),$("#yearlevelTd").html(b.patient_info.year_level),$("#courseRow").show(),$("#yearlevelRow").show()):($("#courseTd").html(""),$("#yearlevelTd").html(""),$("#courseRow").hide(),$("#yearlevelRow").hide()),$("#birthdateTd").html(b.patient_info.birthday),$("#religionTd").html(b.patient_info.religion),$("#nationalityTd").html(b.patient_info.nationality),$("#fatherTd").html(b.patient_info.father_first_name+" "+b.patient_info.father_last_name),$("#motherTd").html(b.patient_info.mother_first_name+" "+b.patient_info.mother_last_name),$("#homeaddressTd").html(b.patient_info.street+", "+b.patient_info.town+", "+b.patient_info.province),$("#restelTd").html(b.patient_info.residence_telephone_number),$("#personalcontactnumberTd").html(b.patient_info.personal_contact_number),$("#guardiannameTd").html(b.patient_info.guardian_first_name+" "+b.patient_info.guardian_last_name),$("#guardianaddressTd").html(b.patient_info.guardian_street+", "+b.patient_info.guardian_town+", "+b.patient_info.guardian_province),$("#guardianrelationshipTd").html(b.patient_info.relationship),$("#guardiantelTd").html(b.patient_info.guardian_tel_number),$("#guardiancpTd").html(b.patient_info.guardian_cellphone),$("#illnessesTd").html(b.patient_info.illness),$("#operationTd").html(b.patient_info.operation),$("#allergiesTd").html(b.patient_info.allergies),$("#famhistoryTd").html(b.patient_info.family),$("#maintenanceTd").html(b.patient_info.maintenance_medication),$("#patientInfoModalFooter").html('<a href="/doctor/addrecords/'+a+'" class="btn btn-info" role="button" id="addnewrecordfromsearch">Add New Record</a><a href="/doctor/viewrecords/'+a+'" class="btn btn-info" role="button" id=viewrecordsfromsearch>View Records</a>'),b.patient_info.picture?$("#searchPatientRecordInfoImg").attr("src","/images/"+b.patient_info.picture):$("#searchPatientRecordInfoImg").attr("src","/images/blankprofpic.png"),$("#searchPatientRecordInfo").modal(),$("#addnewrecordfromsearch").click(function(){$("#searchPatientRecordInfo").modal("hide")}),$("#viewrecordsfromsearch").click(function(){$("#searchPatientRecordInfo").modal("hide")})})})}else"blankstring"==a.counter?($("#paginateMedical").show(),$("#searchloading").hide(),$("#searchTable").hide(),$("#searchResults").html(""),$("#searchlistofallpatients").show()):($("#searchloading").hide(),$("#searchlistofallpatients").hide(),$("#searchTable").show(),$("#searchResults").html("<tr><td>No results found.</td></tr>"))})});var d=0;$(".checkboxMedicalService").click(function(){$(this).is(":checked")?d++:d--,d>0?($("#addNewMedicalRecordWConfirmRequests").show(),$('#physicalexamaccordion input[type="text"]').removeAttr("disabled")):($("#addNewMedicalRecordWConfirmRequests").hide(),$('#physicalexamaccordion input[type="text"]').val(""),$('#physicalexamaccordion input[type="text"]').attr("disabled","disabled"))}),$(".listofallpatients").click(function(){var a=$(this).attr("id").split("_")[1];$.post("/displaypatientrecordsearch",{patient_id:a},function(b){output="",$("#ageTd").html(b.patient_info.age),"F"==b.patient_info.sex?$("#sexTd").html("Female"):$("#sexTd").html("Male"),1==b.patient_info.display_course_and_year_level?($("#courseTd").html(b.patient_info.degree_program_description),$("#yearlevelTd").html(b.patient_info.year_level),$("#courseRow").show(),$("#yearlevelRow").show()):($("#courseTd").html(""),$("#yearlevelTd").html(""),$("#courseRow").hide(),$("#yearlevelRow").hide()),$("#birthdateTd").html(b.patient_info.birthday),$("#religionTd").html(b.patient_info.religion),$("#nationalityTd").html(b.patient_info.nationality),$("#fatherTd").html(b.patient_info.father_first_name+" "+b.patient_info.father_last_name),$("#motherTd").html(b.patient_info.mother_first_name+" "+b.patient_info.mother_last_name),$("#homeaddressTd").html(b.patient_info.street+", "+b.patient_info.town+", "+b.patient_info.province),$("#restelTd").html(b.patient_info.residence_telephone_number),$("#personalcontactnumberTd").html(b.patient_info.personal_contact_number),$("#guardiannameTd").html(b.patient_info.guardian_first_name+" "+b.patient_info.guardian_last_name),$("#guardianaddressTd").html(b.patient_info.guardian_street+", "+b.patient_info.guardian_town+", "+b.patient_info.guardian_province),$("#guardianrelationshipTd").html(b.patient_info.relationship),$("#guardiantelTd").html(b.patient_info.guardian_tel_number),$("#guardiancpTd").html(b.patient_info.guardian_cellphone),$("#illnessesTd").html(b.patient_info.illness),$("#operationTd").html(b.patient_info.operation),$("#allergiesTd").html(b.patient_info.allergies),$("#famhistoryTd").html(b.patient_info.family),$("#maintenanceTd").html(b.patient_info.maintenance_medication),$("#patientInfoModalFooter").html('<a href="/doctor/addrecords/'+a+'" class="btn btn-info" role="button" id="addnewrecordfromsearch">Add New Record</a><a href="/doctor/viewrecords/'+a+'" class="btn btn-info" role="button" id=viewrecordsfromsearch>View Records</a>'),b.patient_info.picture?$("#searchPatientRecordInfoImg").attr("src","/images/"+b.patient_info.picture):$("#searchPatientRecordInfoImg").attr("src","/images/blankprofpic.png"),$("#searchPatientRecordInfo").modal(),$("#addnewrecordfromsearch").click(function(){$("#searchPatientRecordInfo").modal("hide")}),$("#viewrecordsfromsearch").click(function(){$("#searchPatientRecordInfo").modal("hide")})})}),$("#addnewrecordsubmit").click(function(){$("#proceedToAddNewMedicalRecord").modal("hide")}),$(".medicalrecorddate").click(function(){var a=$(this).attr("id").split("_")[1];$.post("/viewindividualrecordfromsearch",{medical_appointment_id:a},function(a,b,c){a.physical_examination?($("#heightTd").html(a.physical_examination.height),$("#weightTd").html(a.physical_examination.weight),$("#bpTd").html(a.physical_examination.blood_pressure),$("#prTd").html(a.physical_examination.pulse_rate),$("#righteyeTd").html(a.physical_examination.right_eye),$("#lefteyeTd").html(a.physical_examination.left_eye),$("#headTd").html(a.physical_examination.head),$("#eentTd").html(a.physical_examination.eent),$("#neckTd").html(a.physical_examination.neck),$("#chestTd").html(a.physical_examination.chest),$("#heartTd").html(a.physical_examination.heart),$("#lungsTd").html(a.physical_examination.lungs),$("#abdomenTd").html(a.physical_examination.abdomen),$("#backTd").html(a.physical_examination.back),$("#skinTd").html(a.physical_examination.skin),$("#extremitiesTd").html(a.physical_examination.extremities)):($("#heightTd").html(""),$("#weightTd").html(""),$("#bpTd").html(""),$("#prTd").html(""),$("#righteyeTd").html(""),$("#lefteyeTd").html(""),$("#headTd").html(""),$("#eentTd").html(""),$("#neckTd").html(""),$("#chestTd").html(""),$("#heartTd").html(""),$("#lungsTd").html(""),$("#abdomenTd").html(""),$("#backTd").html(""),$("#skinTd").html(""),$("#extremitiesTd").html("")),a.cbc_result?($("#hemoglobinTd").html(a.cbc_result.hemoglobin),$("#hemasocritTd").html(a.cbc_result.hemasocrit),$("#wbcTd").html(a.cbc_result.wbc)):($("#cbc_results").hide(),$("#hemoglobinTd").html(""),$("#hemasocritTd").html(""),$("#wbcTd").html("")),a.urinalysis_result?($("#puscellsTd").html(a.urinalysis_result.pus_cells),$("#rbcTd").html(a.urinalysis_result.rbc),$("#albuminTd").html(a.urinalysis_result.albumin),$("#sugarTd").html(a.urinalysis_result.sugar)):($("#urinalysis_results").hide(),$("#puscellsTd").html(""),$("#rbcTd").html(""),$("#albuminTd").html(""),$("#sugarTd").html("")),a.fecalysis_result?($("#macroscopicTd").html(a.fecalysis_result.macroscopic),$("#microscopicTd").html(a.fecalysis_result.microscopic)):($("#fecalysis_results").hide(),$("#macroscopicTd").html(""),$("#microscopicTd").html("")),a.drug_test_result?$("#drugtestTd").html(a.drug_test_result.drug_test):($("#drug_test_results").hide(),$("#drugtestTd").html("")),a.chest_xray_result?$("#chestxrayTd").html(a.chest_xray_result.xray_result):($("#xray_results").hide(),$("#cchestxrayTd").html("")),a.remark?$("#remarksTd").html(a.remark.remark):$("#remarksTd").html(""),a.prescription?$("#prescriptionTd").html(a.prescription.prescription):$("#prescriptionTd").html(""),$("#viewMedicalRecordBasedOnDateModal").modal()})})}),$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=_token]").attr("content")}}),$('input:radio[name="cbc_radio"]').change(function(){"outside"==$(this).val()?($(".checkboxLabService").attr("disabled","disabled"),$(".checkboxLabService").removeAttr("checked"),$("#hemoglobin-lab").removeAttr("disabled"),$("#hemasocrit-lab").removeAttr("disabled"),$("#wbc-lab").removeAttr("disabled")):($(".checkboxLabService").removeAttr("disabled"),$("#hemoglobin-lab").val(""),$("#hemasocrit-lab").val(""),$("#wbc-lab").val(""),$("#hemoglobin-lab").attr("disabled","disabled"),$("#hemasocrit-lab").attr("disabled","disabled"),$("#wbc-lab").attr("disabled","disabled"))});var a=0;$(".checkboxLabService").click(function(){$(this).is(":checked")?a++:a--,a>0?($("#hemoglobin-lab").removeAttr("disabled"),$("#hemasocrit-lab").removeAttr("disabled"),$("#wbc-lab").removeAttr("disabled")):($("#hemoglobin-lab").val(""),$("#hemasocrit-lab").val(""),$("#wbc-lab").val(""),$("#hemoglobin-lab").attr("disabled","disabled"),$("#hemasocrit-lab").attr("disabled","disabled"),$("#wbc-lab").attr("disabled","disabled"))}),$(".addLabResult").click(function(){$("#labdiagnosisaccordion textarea, #labdiagnosisaccordion select").removeAttr("disabled"),$('input[value="inside"]').prop("checked",!0),$(".cbc_radio").removeAttr("disabled"),$(".drug_radio").removeAttr("disabled"),$(".fecalysis_radio").removeAttr("disabled"),$(".urinalysis_radio").removeAttr("disabled"),$(".checkboxLabService").removeAttr("disabled").removeAttr("checked");var a=$(this).attr("id").split("_")[1];$("#laboratoryresult-lab #cbc_div, #laboratoryresult-lab #drug_test_div, #laboratoryresult-lab #fecalysis_div, #laboratoryresult-lab #urinalysis_div").hide(),$("#hemoglobin-lab, #hemasocrit-lab, #wbc-lab, #macroscopic-lab, #microscopic-lab, #rbc-lab, #pus-cells-lab").val(""),$("#drug-test-lab option").prop("selected",function(){return this.defaultSelected}),$("#albumin-lab option, #sugar-lab option").prop("selected",function(){return this.defaultSelected}),$("#cbcaccordion").hide(),$("#add-lab-result-footer").html(""),$.post("/viewlabdiagnosis",{medical_appointment_id:a},function(b,c,d){if(b.cbc_result&&($("#cbcaccordion").show(),$("#hemoglobin-lab").val(b.cbc_result.hemoglobin),b.cbc_result.hemoglobin&&$("#hemoglobin-lab").attr("disabled","disabled"),$("#hemasocrit-lab").val(b.cbc_result.hemasocrit),b.cbc_result.hemasocrit&&$("#hemasocrit-lab").attr("disabled","disabled"),$("#wbc-lab").val(b.cbc_result.wbc),b.cbc_result.wbc&&$("#wbc-lab").attr("disabled","disabled"),(b.cbc_result.hemoglobin||b.cbc_result.hemasocrit||b.cbc_result.wbc)&&($(".checkboxLabService").prop("disabled",!0),$(".cbc_radio").prop("disabled",!0)),$("#laboratoryresult-lab #cbc_div").show(),b.cbc_billing_status))for(var e=0;e<b.cbc_billing_status.length;e++)$("#"+b.cbc_billing_status[e].medical_service_id+".checkboxLabService").prop("checked",!0),$(".checkboxLabService").prop("disabled",!0),$("#patient_type_radio_lab").prop("disabled",!0);b.drug_test_result&&($("#drug-test-lab").val(b.drug_test_result.drug_test_result),b.drug_test_result.drug_test_result?($("#drug-test-lab").attr("disabled","disabled"),$(".checkboxLabService").prop("disabled",!0),$(".drug_radio").prop("disabled",!0)):($("#drug-test-lab").removeAttr("disabled"),$("#drug-test-lab option").prop("selected",function(){return this.defaultSelected})),$("#laboratoryresult-lab #drug_test_div").show()),b.fecalysis_result&&($("#macroscopic-lab").val(b.fecalysis_result.macroscopic),b.fecalysis_result.macroscopic?$("#macroscopic-lab").attr("disabled","disabled"):$("#macroscopic-lab").removeAttr("disabled"),$("#microscopic-lab").val(b.fecalysis_result.microscopic),b.fecalysis_result.microscopic?$("#microscopic-lab").attr("disabled","disabled"):$("#microscopic-lab").removeAttr("disabled"),$("#laboratoryresult-lab #fecalysis_div").show(),(b.fecalysis_result.macroscopic||b.fecalysis_result.microscopic)&&($(".checkboxLabService").prop("disabled",!0),$(".fecalysis_radio").prop("disabled",!0))),b.urinalysis_result&&($("#pus-cells-lab").val(b.urinalysis_result.pus_cells),b.urinalysis_result.pus_cells?$("#pus-cells-lab").attr("disabled","disabled"):$("#pus-cells-lab").removeAttr("disabled"),$("#rbc-lab").val(b.urinalysis_result.rbc),b.urinalysis_result.rbc?$("#rbc-lab").attr("disabled","disabled"):$("#rbc-lab").removeAttr("disabled"),$("#albumin-lab").val(b.urinalysis_result.albumin),b.urinalysis_result.albumin?$("#albumin-lab").attr("disabled","disabled"):($("#albumin-lab").removeAttr("disabled"),$("#albumin-lab option").prop("selected",function(){return this.defaultSelected})),$("#sugar-lab").val(b.urinalysis_result.sugar),b.urinalysis_result.sugar?$("#sugar-lab").attr("disabled","disabled"):($("#sugar-lab").removeAttr("disabled"),$("#sugar-lab option").prop("selected",function(){return this.defaultSelected})),$("#laboratoryresult-lab #urinalysis_div").show(),(b.urinalysis_result.pus_cells||b.urinalysis_result.rbc||b.urinalysis_result.albumin||b.urinalysis_result.sugar)&&($(".checkboxLabService").prop("disabled",!0),$(".urinalysis_radio").prop("disabled",!0))),$("#add-lab-result-footer").append('<button type="button" class="btn btn-success addLabResultButton" id="addLabResultButton_'+a+'">Save</button><button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>'),$(".addLabResultButton").click(function(){var a=$(this).attr("id").split("_")[1];cbc_services_id=[],$("input:checkbox.checkboxLabService").each(function(){$(this).is(":checked")&&!$(this).attr("disabled")&&cbc_services_id.push($(this).attr("id"))}),$.post("/updatelabdiagnosis",{medical_appointment_id:a,hemoglobin:$("#hemoglobin-lab").val(),hemasocrit:$("#hemasocrit-lab").val(),wbc:$("#wbc-lab").val(),cbc_radio:$("input[name='cbc_radio']:checked").val(),drug_test:$("#drug-test-lab").val(),drug_radio:$("input[name='drug_radio']:checked").val(),macroscopic:$("#macroscopic-lab").val(),microscopic:$("#microscopic-lab").val(),fecalysis_radio:$("input[name='fecalysis_radio']:checked").val(),pus_cells:$("#pus-cells-lab").val(),rbc:$("#rbc-lab").val(),albumin:$("#albumin-lab").val(),sugar:$("#sugar-lab").val(),urinalysis_radio:$("input[name='urinalysis_radio']:checked").val(),cbc_services_id:cbc_services_id,drug_service_id:b.drug_billing_service.id,fecalysis_service_id:b.fecalysis_billing_service.id,urinalysis_service_id:b.urinalysis_billing_service.id},function(b,c,d){console.log("hello"),$("#cbccountpanel").load(location.href+" #cbccount"),$("#drugtestcountpanel").load(location.href+" #drugtestcount"),$("#fecalysiscountpanel").load(location.href+" #fecalysiscount"),$("#urinalysiscountpanel").load(location.href+" #urinalysiscount"),"yes"==b.delete&&$("#addLabResult_"+a).closest("tr").remove(),$("#add-lab-result").modal("hide")})}),$("#add-lab-result").modal()})})}),$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=_token]").attr("content")}}),$('input:radio[name="xray_radio"]').change(function(){"outside"==$(this).val()?($("#chest-xray").removeAttr("disabled"),$(".addXrayResultButton").fadeIn(),$(".checkboxXrayService").attr("disabled","disabled"),$(".checkboxXrayService").removeAttr("checked")):($(".addXrayResultButton").fadeOut(),$("#chest-xray").val(""),$("#chest-xray").attr("disabled","disabled"),$(".checkboxXrayService").removeAttr("disabled"))});var a=0;$(".checkboxXrayService").click(function(){$(this).is(":checked")?a++:a--,a>0?($("#chest-xray").removeAttr("disabled"),$(".addXrayResultButton").fadeIn()):($(".addXrayResultButton").fadeOut(),$("#chest-xray").val(""),$("#chest-xray").attr("disabled","disabled"))}),$(".addXrayResult").click(function(){$('input[value="inside"]').prop("checked",!0),$(".checkboxXrayService").removeAttr("disabled").removeAttr("checked");var a=$(this).attr("id").split("_")[1];$("#add-xray-result-footer").html(""),$.post("/viewxraydiagnosis",{medical_appointment_id:a},function(b,c,d){b.xray_result&&($("#chest-xray").val(b.xray_result.xray_result),b.xray_result.xray_result&&$("#chest-xray").attr("disabled","disabled")),$("#add-xray-result-footer").append('<button type="button" style="display: none;" class="btn btn-success addXrayResultButton" id="addXrayResultButton_'+a+'">Save</button><button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>'),$("#add-xray-result").modal(),$(".addXrayResultButton").click(function(){var a=$(this).attr("id").split("_")[1],b=$("#chest-xray").val();if(xray_services_id=[],$("input:checkbox.checkboxXrayService").each(function(){$(this).is(":checked")&&xray_services_id.push($(this).attr("id"))}),$("#chest-xray").val()){var a=$(this).attr("id").split("_")[1],b=$("#chest-xray").val();$.post("/addxrayresult",{medical_appointment_id:a,chest_xray:b,xray_services_id:xray_services_id,xray_radio:$("input[name='xray_radio']:checked").val()},function(b){$("#xraycountpanel").load(location.href+" #xraycount"),$("#add-xray-result").modal("hide"),$("#chest-xray").val(""),$("#addXrayResult_"+a).closest("tr").remove()})}})})})}),$(document).ready(function(){function a(){$.post("/appointmentstatus",{},function(a,b,c){Highcharts.chart("cashierdashboard",{chart:{type:"pie",options3d:{enabled:!0,alpha:45}},title:{text:"Status of Today's Appointments"},plotOptions:{pie:{innerSize:80,depth:45}},series:[{name:"Number of Appointments",data:[["Billed/Unpaid",a.unpaid],["Unbilled",a.unbilled],["Paid",a.paid]]}]})})}1==$("#cashiergraphtrigger").val()&&a(),$(".addMedicalBilling").click(function(){buttonIdMedical=$(this).attr("id");var a=$(this).attr("id").split("_");appointmentIdMedical=a[3],amountMedical=a[4],$.post("/display_medical_billing",{appointment_id:appointmentIdMedical},function(a){var b=0;if($("#display_amount_modal_medical").val(amountMedical),output="",output+="<tr><th>Service Description</th><th>Service Rate</td><th>Type</th></tr>",1==a.patient_type_checker||2==a.patient_type_checker||3==a.patient_type_checker||4==a.patient_type_checker||5==a.patient_type_checker)for(var c=0;c<a.display_medical_billing.length;c++)1==a.patient_type_checker?(console.log("student"),output+="<tr><td>"+a.display_medical_billing[c].service_description+"</td><td>"+a.display_medical_billing[c].student_rate+"</td><td>"+a.display_medical_billing[c].service_type+"</td></tr>",b+=parseFloat(a.display_medical_billing[c].student_rate)):5==a.patient_type_checker?(console.log("opd"),output+="<tr><td>"+a.display_medical_billing[c].service_description+"</td><td>"+a.display_medical_billing[c].opd_rate+"</td><td>"+a.display_medical_billing[c].service_type+"</td></tr>",b+=parseFloat(a.display_medical_billing[c].opd_rate)):(console.log("faculty"),output+="<tr><td>"+a.display_medical_billing[c].service_description+"</td><td>"+a.display_medical_billing[c].faculty_staff_dependent_rate+"</td><td>"+a.display_medical_billing[c].service_type+"</td></tr>",b+=parseFloat(a.display_medical_billing[c].faculty_staff_dependent_rate));else for(var c=0;c<a.display_medical_billing.length;c++)output+="<tr><td>"+a.display_medical_billing[c].service_description+"</td><td>"+a.display_medical_billing[c].senior_rate+"</td><td>"+a.display_medical_billing[c].service_type+"</td></tr>",b+=parseFloat(a.display_medical_billing[c].senior_rate);$("#displayMedicalBillingModal").html(output),$("#displayMedicalBillingTableModal").show(),$("#confirm_medical_billing").modal(),$("#printMedicalReceiptButton").click(function(){var c=window.open();c.document.open,c.document.write(""),c.document.write('<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js">><\/script><script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"><\/script></head>'),c.document.write('<center><img src="/images/upvweb_logo.png"  alt="Infirmary Logo"/>'),c.document.write("<b><h4>University of the Phillipines Visayas</h4></b><h5>Miagao, Iloilo 5023</h5><h5>Telephone Number : 236-789</h5><br><h1>PATIENT BILL</h1><br></center>"),c.document.write("<h4>Patient: <b>"+a.medical_receipt.patient_first_name+"&nbsp;"+a.medical_receipt.patient_last_name+"</b></h4>"),c.document.write("<h4>Doctor: <b>"+a.medical_receipt.staff_first_name+"&nbsp;"+a.medical_receipt.staff_last_name+"</b></h4>"),c.document.write("<h5>Date of Consultation <b>"+a.medical_receipt.schedule_day+"</b></h5>"),c.document.write('<div class="container"><table class="table table-bordered"><tbody>'+output+"</tbody></table></div><br><br>"),c.document.write('<h4 style="text-align:right;">Total Amount: <b>Php '+b+"</b></h4>"),c.document.write("<script>setTimeout(function(){window.print();},500);<\/script></body></html>")})})}),$("#addMedicalBillingButton").click(function(){$.post("/confirm_medical_billing",{appointment_id:appointmentIdMedical},function(a){$("#add_medical_billing_tr_"+appointmentIdMedical).remove(),medicalVal=$("#receivable_medical").html()-amountMedical,0==medicalVal?($("#receivable_medical").html(""),$("#medical_billing_past").hide()):$("#receivable_medical").html(medicalVal.toFixed(2)),$("#confirm_medical_billing").modal("hide")})}),$(".addDentalBilling").click(function(){buttonIdDental=$(this).attr("id");var a=$(this).attr("id").split("_");appointmentIdDental=a[3],amountDental=a[4],$.post("/display_dental_billing",{appointment_id:appointmentIdDental},function(a){var b=0;if($("#display_amount_modal_dental").val(amountDental),output="",output+="<tr><th>Service Description</th><th>Service Rate</td></tr>",1==a.patient_type_checker||2==a.patient_type_checker||3==a.patient_type_checker||4==a.patient_type_checker||5==a.patient_type_checker)for(var c=0;c<a.display_dental_billing.length;c++)1==a.patient_type_checker?(output+="<tr><td>"+a.display_dental_billing[c].service_description+"</td><td>"+a.display_dental_billing[c].student_rate+"</td></tr>",b+=parseFloat(a.display_dental_billing[c].student_rate)):5==a.patient_type_checker?(output+="<tr><td>"+a.display_dental_billing[c].service_description+"</td><td>"+a.display_dental_billing[c].opd_rate+"</td></tr>",b+=parseFloat(a.display_dental_billing[c].opd_rate)):(output+="<tr><td>"+a.display_dental_billing[c].service_description+"</td><td>"+a.display_dental_billing[c].faculty_staff_dependent_rate+"</td></tr>",b+=parseFloat(a.display_dental_billing[c].faculty_staff_dependent_rate));else for(var c=0;c<a.display_dental_billing.length;c++)output+="<tr><td>"+a.display_dental_billing[c].service_description+"</td><td>"+a.display_dental_billing[c].senior_rate+"</td></tr>",b+=parseFloat(a.display_dental_billing[c].senior_rate);$("#displayDentalBillingModal").html(output),$("#displayDentalBillingTableModal").show(),$("#confirm_dental_billing").modal(),$("#printDentalReceiptButton").click(function(){var c=window.open();c.document.open,c.document.write(""),c.document.write('<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js">><\/script><script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"><\/script></head>'),c.document.write('<center><img src="/images/upvweb_logo.png"  alt="Infirmary Logo"/>'),c.document.write("<b><h4>University of the Phillipines Visayas</h4></b><h5>Miagao, Iloilo 5023</h5><h5>Telephone Number : 236-789</h5><br><h1>PATIENT BILL</h1><br></center>"),c.document.write("<h4>Patient: <b>"+a.dental_receipt.patient_first_name+"&nbsp;"+a.dental_receipt.patient_last_name+"</b></h4>"),c.document.write("<h4>Doctor: <b>"+a.dental_receipt.staff_first_name+"&nbsp;"+a.dental_receipt.staff_last_name+"</b></h4>"),c.document.write("<h5>Date of Consultation <b>"+a.dental_receipt.schedule_start+" - "+a.dental_receipt.schedule_end+"</b></h5><br>"),c.document.write('<div class="container"><table class="table table-bordered"><tbody>'+output+"</tbody></table></div><br><br>"),c.document.write('<h4 style="text-align:right;">Total Amount: <b>Php '+b+"</b></h4>"),c.document.write("<script>setTimeout(function(){window.print();},500);<\/script></body></html>")})})}),$("#addDentalBillingButton").click(function(){$.post("/confirm_dental_billing",{appointment_id:appointmentIdDental},function(a){$("#add_dental_billing_tr_"+appointmentIdDental).remove(),dentalVal=$("#receivable_dental").html()-amountDental,0==dentalVal?($("#receivable_dental").html(""),$("#dental_billing_past").hide()):$("#receivable_dental").html(dentalVal.toFixed(2)),$("#confirm_dental_billing").modal("hide")})})}),$(document).ready(function(){function a(a){for(var b=a.split(" "),c="",d=0;d<b.length;d++)c+=b[d].substring(0,1).toUpperCase()+b[d].substring(1)+" ";return c.substring(0,c.length-1)}$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=_token]").attr("content")}}),$(".dental_appointments_prescription").click(function(){var a=$(this).attr("id").split("_"),b=a[1],c=a[2];$.post("/view_dental_record_dashboard",{patient_id:b,appointment_id:c},function(a){if(console.log(c),output="",output+='<svg id="frame_svg" viewBox="0 0 867 545" >',output+='<polygon class="dental_chart" id="operation_55" operation_id="'+a.stacks_operation[0]+'" points="234,78,244,74,256,75,262,76,267,79,269,84,271,92,271,102,271,108,266,113,260,113,256,112,253,110,246,112,237,111,233,105,230,97,230,89,232,82,233,79" style="fill:'+a.stacks_operation_color[0]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_55" condition_id="'+a.stacks_condition[0]+'" points="234,78,244,74,256,75,262,76,267,79,267,69,268,62,270,55,273,48,275,41,274,33,273,26,270,24,268,26,267,33,267,40,266,44,261,51,257,56, 255, 59, 254, 64,250,71,245,64,240,57,238,47,236,39,234,29,232,24,229,23,227,26,227,36,229,46,231,54,234,62,235,69,234,77" style="fill:'+a.stacks_condition_color[0]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_54" operation_id="'+a.stacks_operation[1]+'" points="285,73,291,70,298,70,303,71,310,73,315,76,316,81,319,88,319,97,315,104,308,107,302,105,298,103,292,103,285,99,281,94,281,87,281,79,283,75" style="fill:'+a.stacks_operation_color[1]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_54" condition_id="'+a.stacks_condition[1]+'" points="285,73,291,70,298,70,303,71,310,73,315,76,316,68,319,60,321,51,321,43, 321,35,318,30,315,33,312,41,308,54,304,61,299,66,296,63,293,57,290,50,290,40,289,35,285,30,282,34,282,41,284,46,285,55,285,65,285,70" style="fill:'+a.stacks_condition_color[1]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_53" operation_id="'+a.stacks_operation[2]+'" points="332,72,337,68,343,68,349,69,355,73,356,84,356,93,351,99,346,102,340,102,334,99,331,95,332,84,331,76,331,74" style="fill:'+a.stacks_operation_color[2]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_53" condition_id="'+a.stacks_condition[2]+'" points="332,72,337,68,343,68,349,69,355,73,354,65,353,55,353,44,352,33,351,23, 347,15,343,17,342,25,340,30,338,36,336,45,336,56,334,63,333,67" style="fill:'+a.stacks_condition_color[2]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_52" operation_id="'+a.stacks_operation[3]+'" points="371,72,375,69,380,69,385,71,386,77,388,85,390,93,389,100,386,104,379,105,372,103,369,99,367,93,369,84,370,77,370,73" style="fill:'+a.stacks_operation_color[3]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_52" condition_id="'+a.stacks_condition[3]+'" points="371,72,375,69,380,69,385,71,385,65,385,56,385,51,383,43,381,36,379,27,377,22,373,19,371,20,371,26,372,33,373,41,373,51,373,61,371,68" style="fill:'+a.stacks_condition_color[3]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_51" operation_id="'+a.stacks_operation[4]+'" points="410,70,418,69,422,68,426,72,428,75,431,76,433,79,434,88,435,96,434,104,428,110,422,110,414,107,409,105,406,102,406,94,406,85,408,78,410,72" style="fill:'+a.stacks_operation_color[4]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_51" condition_id="'+a.stacks_condition[4]+'" points="410,70,418,69,422,68,426,72,428,75,431,76,433,79,431,70,431,62,431,55,429,45,428,37,427,29,426,24,423,20,420,16,417,22,415,27,413,34,412,38,412,46,412,58,411,65,411,67" style="fill:'+a.stacks_condition_color[4]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_61" operation_id="'+a.stacks_operation[5]+'" points="444,75,450,71,456,70,463,71,467,78,468,87,469,99,463,106,451,109,441,103,440,90,442,80" style="fill:'+a.stacks_operation_color[5]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_61" condition_id="'+a.stacks_condition[5]+'" points="444,75,450,71,456,70,463,71,463,60,462,45,463,33,458,23,452,17,450,26,446,40,445,50,444,64,443,74" style="fill:'+a.stacks_condition_color[5]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_62" operation_id="'+a.stacks_operation[6]+'" points="487,83,489,75,490,71,494,70,497,69,500,71,504,73,504,79,507,89,508,95,505,101,500,105,494,105,487,103,484,97,486,91" style="fill:'+a.stacks_operation_color[6]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_62" condition_id="'+a.stacks_condition[6]+'" points="492,45,494,37,496,28,496,26,500,20,503,18,505,21,504,27,502,34,501,47,502,60,504,72,502,72,498,69,494,70,489,73,489,72,489,71" style="fill:'+a.stacks_condition_color[6]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_63" operation_id="'+a.stacks_operation[7]+'" points="519,76,522,72,526,68,534,68,539,70,542,73,544,76,544,87,544,94,541,100,535,103,529,103,523,98,519,93,517,86,517,86" style="fill:'+a.stacks_operation_color[7]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_63" condition_id="'+a.stacks_condition[7]+'" points="524,27,525,19,529,15,531,17,533,19,533,27,536,33,538,43,540,56,541,66,544,74,539,71,535,68,528,67,522,70,519,73,520,63" style="fill:'+a.stacks_condition_color[7]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_64" operation_id="'+a.stacks_operation[8]+'" points="559,76,565,73,575,70,583,70,588,73,592,77,594,86,594,95,590,101,584,104,578,104,572,107,564,107,558,103,555,97,556,89" style="fill:'+a.stacks_operation_color[8]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_64" condition_id="'+a.stacks_condition[8]+'" points="554,45,553,40,555,33,556,30,559,32,562,39,566,50,570,61,574,66,579,66,583,56,585,47,586,36,588,30,591,30,594,36,592,45,591,48,590,59,590,67,590,75,586,71,580,69,572,70,559,75,559,69,556,61,554,52" style="fill:'+a.stacks_condition_color[8]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_65" operation_id="'+a.stacks_operation[9]+'" points="608,79,616,74,623,74,631,74,640,78,643,85,645,93,644,103,640,108,636,111,629,112,623,110,616,113,609,113,604,108,603,101,604,91" style="fill:'+a.stacks_operation_color[9]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_65" condition_id="'+a.stacks_condition[9]+'" points="607,61,605,54,602,46,601,40,602,30,602,26,605,24,608,27,608,40,615,52,620,60,625,70,633,61,638,50,638,41,641,32,642,24,646,23,649,27,647,41,645,52,640,64,640,74,640,78,630,74,616,74,607,79,608,69" style="fill:'+a.stacks_condition_color[9]+';stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_18" operation_id="'+a.stacks_operation[10]+'" points="100,233,105,231,113,231,118,232,126,236,130,238,133,245,133,253,131,258,125,262,121,265,116,266,113,264,112,263,107,266,101,267,95,264,93,258,93,250,95,243" style="fill:'+a.stacks_operation_color[10]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_18" condition_id="'+a.stacks_condition[10]+'" points="98,205,98,198,97,192,95,185,95,179,95,177,98,177,102,182,103,184,103,177,105,175,108,177,113,187,119,209,125,221,129,232,130,238,124,235,117,231,106,231,100,233,101,231,100,221,99,209" style="fill:'+a.stacks_condition_color[10]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_17" operation_id="'+a.stacks_operation[11]+'" points="144,230,148,227,154,224,166,225,174,226,180,230,185,239,186,252,183,258,177,261,170,261,163,258,159,261,153,262,149,261,143,256,140,248,139,241,140,235" style="fill:'+a.stacks_operation_color[11]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_17" condition_id="'+a.stacks_condition[11]+'" points="145,201,144,195,143,188,144,181,145,178,148,176,151,177,153,184,157,194,160,203,165,208,169,204,168,195,167,188,165,182,165,177,168,178,174,186,178,194,181,209,181,218,180,230,173,225,155,224,148,226,143,231,145,221,147,214,147,205,145,201" style="fill:'+a.stacks_condition_color[11]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_16" operation_id="'+a.stacks_operation[12]+'" points="199,226,208,223,218,221,224,220,230,223,235,227,241,236,241,247,240,255,234,260,228,261,221,259,216,255,211,261,202,261,196,254,193,245,195,234" style="fill:'+a.stacks_operation_color[12]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_16" condition_id="'+a.stacks_condition[12]+'" points="198,176,198,170,200,165,202,163,206,164,210,171,213,181,217,190,223,193,228,190,230,184,229,176,228,171,229,164,231,160,234,162,238,173,239,185,238,197,237,207,237,219,240,229,239,232,233,225,225,220,216,220,207,223,199,226,200,218,203,209,201,192" style="fill:'+a.stacks_condition_color[12]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_15" operation_id="'+a.stacks_operation[13]+'" points="254,226,259,222,266,221,273,224,278,232,280,237,279,247,275,254,273,252,267,259,260,260,252,257,248,248,248,240,251,230" style="fill:'+a.stacks_operation_color[13]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_15" condition_id="'+a.stacks_condition[13]+'" points="257,184,257,175,256,164,254,155,257,145,258,145,264,152,270,173,271,186,271,197,275,212,278,224,277,230,273,224,267,221,260,222,253,227,254,219,256,210" style="fill:'+a.stacks_condition_color[13]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_14" operation_id="'+a.stacks_operation[14]+'" points="293,226,295,222,299,217,306,216,310,219,316,227,319,238,318,248,315,255,309,263,301,264,296,261,295,255,290,250,287,247,288,241,290,232" style="fill:'+a.stacks_operation_color[14]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_14" condition_id="'+a.stacks_condition[14]+'" points="298,184,297,172,299,165,300,156,301,151,303,151,306,160,308,175,311,194,313,212,314,224,311,219,306,216,299,217,294,223,292,226,293,214,295,200" style="fill:'+a.stacks_condition_color[14]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_13" operation_id="'+a.stacks_operation[15]+'" points="329,233,331,225,334,217,337,212,343,211,352,215,360,227,363,239,361,249,356,259,350,264,342,264,333,259,329,249,328,242" style="fill:'+a.stacks_operation_color[15]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_13" condition_id="'+a.stacks_condition[15]+'" points="337,131,341,134,346,144,349,157,351,177,351,193,355,206,357,217,356,220,352,214,343,211,337,212,333,219,334,208,336,196,338,177,339,158,336,138,335,132" style="fill:'+a.stacks_condition_color[15]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_12" operation_id="'+a.stacks_operation[16]+'" points="369,217,375,215,380,215,385,216,388,227,390,239,391,245,392,257,390,262,386,264,380,263,372,260,367,257,364,248,365,236,366,228,367,222" style="fill:'+a.stacks_operation_color[16]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_12" condition_id="'+a.stacks_condition[16]+'" points="373,148,377,150,379,158,382,173,383,195,385,217,379,215,375,215,369,218,370,204,369,186,370,167,370,153" style="fill:'+a.stacks_condition_color[16]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_11" operation_id="'+a.stacks_operation[17]+'" points="403,215,410,210,416,208,421,210,427,218,432,228,434,240,434,250,434,262,428,264,418,264,404,264,397,261,395,257,397,241,398,227,399,220" style="fill:'+a.stacks_operation_color[17]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_11" condition_id="'+a.stacks_condition[17]+'" points="410,143,415,146,419,160,425,179,427,194,429,216,427,219,423,212,416,208,411,210,403,215,401,218,403,208,404,185,406,167,409,151,409,144" style="fill:'+a.stacks_condition_color[17]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_21" operation_id="'+a.stacks_operation[18]+'" points="447,220,452,212,457,208,463,209,469,212,474,218,478,233,479,246,479,256,478,262,469,265,457,264,447,264,442,262,441,255,441,251,440,244,440,236,441,230,445,222" style="fill:'+a.stacks_operation_color[18]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_21" condition_id="'+a.stacks_condition[18]+'" points="450,175,454,166,457,154,461,146,464,142,467,144,467,156,469,175,472,197,473,209,473,217,468,212,463,208,457,208,452,212,447,220,446,209,447,198" style="fill:'+a.stacks_condition_color[18]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_22" operation_id="'+a.stacks_operation[19]+'" points="488,227,489,221,490,217,495,214,499,214,506,218,509,224,511,235,511,247,510,255,506,260,498,262,491,264,486,262,484,260,483,251,484,242" style="fill:'+a.stacks_operation_color[19]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_22" condition_id="'+a.stacks_condition[19]+'" points="493,170,495,161,498,153,501,148,504,150,505,157,506,176,506,186,505,201,506,213,506,218,499,214,495,214,489,217,491,212,491,198" style="fill:'+a.stacks_condition_color[19]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_23" operation_id="'+a.stacks_operation[20]+'" points="518,222,524,214,530,210,537,212,542,216,545,227,548,238,546,249,541,258,537,262,528,265,521,261,517,255,514,246,513,238,514,230" style="fill:'+a.stacks_operation_color[20]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_23" condition_id="'+a.stacks_condition[20]+'" points="524,174,526,160,527,149,532,137,538,130,541,133,538,143,537,166,538,190,540,207,542,216,537,211,530,210,524,214,518,221,517,223,518,213,521,198,523,189,525,178" style="fill:'+a.stacks_condition_color[20]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_24" operation_id="'+a.stacks_operation[21]+'" points="563,221,566,217,572,216,576,218,581,224,585,236,587,245,587,250,582,253,580,257,576,263,570,264,563,261,558,250,556,239,558,230,561,223" style="fill:'+a.stacks_operation_color[21]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_24" condition_id="'+a.stacks_condition[21]+'" points="566,181,567,171,569,160,572,153,574,152,575,156,576,166,578,172,578,183,579,194,582,218,581,224,576,218,572,215,566,217,560,223,561,210,563,197,565,185" style="fill:'+a.stacks_condition_color[21]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_25" operation_id="'+a.stacks_operation[22]+'" points="599,229,603,222,608,221,616,222,624,230,627,246,624,254,618,260,609,259,603,254,602,252,599,253,596,247,595,236,597,229" style="fill:'+a.stacks_operation_color[22]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_25" condition_id="'+a.stacks_condition[22]+'" points="605,182,606,168,610,156,614,146,617,145,619,149,621,154,618,170,618,190,617,210,621,226,619,225,615,222,608,220,603,222,599,229,598,225,600,211,602,202,604,191" style="fill:'+a.stacks_condition_color[22]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_26" operation_id="'+a.stacks_operation[23]+'" points="637,228,646,221,654,219,663,222,669,223,675,226,680,234,681,244,680,253,676,259,670,262,663,261,657,257,652,259,648,261,642,260,635,256,633,249,633,239,635,234" style="fill:'+a.stacks_operation_color[23]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_26" condition_id="'+a.stacks_condition[23]+'" points="637,189,637,179,638,169,642,161,646,161,647,164,648,171,646,183,648,190,653,193,659,190,663,179,666,168,671,164,674,164,677,171,676,182,672,197,673,210,676,223,677,229,674,226,663,221,654,219,646,221,637,228,636,220,639,212,637,200" style="fill:'+a.stacks_condition_color[23]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_27" operation_id="'+a.stacks_operation[24]+'" points="695,229,705,224,716,224,726,226,733,232,736,240,735,250,731,257,727,262,722,262,717,261,712,257,708,261,702,262,696,261,690,256,689,249,690,239,692,235" style="fill:'+a.stacks_operation_color[24]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_27" condition_id="'+a.stacks_condition[24]+'" points="695,202,698,194,702,185,707,179,711,179,710,183,707,192,707,203,709,208,714,204,718,196,722,182,724,178,728,176,731,180,732,192,730,201,728,215,731,227,733,231,725,225,716,224,705,224,695,229,694,224,694,213" style="fill:'+a.stacks_condition_color[24]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_28" operation_id="'+a.stacks_operation[25]+'" points="745,238,752,233,761,230,769,231,777,235,780,243,784,255,782,264,776,267,768,267,763,263,757,267,751,263,744,258,742,249,743,243" style="fill:'+a.stacks_operation_color[25]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_28" condition_id="'+a.stacks_condition[25]+'" points="755,209,760,196,763,183,768,176,773,175,774,179,779,175,782,176,780,189,777,208,775,223,777,235,770,231,760,230,753,233,744,239,746,231,751,220" style="fill:'+a.stacks_condition_color[25]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_48" condition_id="'+a.stacks_condition[26]+'" points="100,335,91,330,86,325,84,315,86,306,90,299,97,296,105,299,111,304,117,299,126,298,131,306,132,313,132,322,128,330,120,335,111,338,104,337" style="fill:'+a.stacks_condition_color[26]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_48" operation_id="'+a.stacks_operation[26]+'" points="89,349,88,358,84,369,82,379,80,385,83,390,88,388,94,379,93,388,96,391,101,390,108,382,117,361,123,342,128,330,119,335,109,338,100,336,91,330,88,327,89,334,90,342" style="fill:'+a.stacks_operation_color[26]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_47" condition_id="'+a.stacks_condition[27]+'" points="135,304,142,298,149,296,157,298,161,304,167,297,172,296,179,299,184,307,186,317,183,329,176,336,167,338,158,336,151,334,142,334,136,329,133,318,134,311" style="fill:'+a.stacks_condition_color[27]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_47" operation_id="'+a.stacks_operation[27]+'" points="137,352,137,359,135,370,134,379,134,394,136,401,139,403,143,400,144,388,148,376,152,363,158,355,160,357,161,366,158,382,157,392,159,401,161,401,166,394,171,381,177,366,180,351,180,343,179,337,178,335,176,336,165,339,152,335,143,334,136,329,137,337" style="fill:'+a.stacks_operation_color[27]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_46" condition_id="'+a.stacks_condition[28]+'" points="199,297,208,298,216,302,219,298,228,297,234,299,242,308,242,316,240,324,238,332,234,336,227,338,216,337,208,337,199,334,194,330,190,321,187,313,188,306,191,300" style="fill:'+a.stacks_condition_color[28]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_46" operation_id="'+a.stacks_operation[28]+'" points="193,353,191,360,186,372,183,379,182,388,182,399,185,406,187,405,190,398,195,384,198,377,207,367,210,358,213,356,217,360,222,371,222,391,221,408,223,409,230,401,236,382,237,369,238,348,236,335,234,336,228,338,208,337,199,334,194,330,194,337" style="fill:'+a.stacks_operation_color[28]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_45" condition_id="'+a.stacks_condition[29]+'" points="262,331,257,332,251,326,247,315,245,308,249,298,257,293,265,292,271,298,278,303,278,314,276,322,273,328,271,330" style="fill:'+a.stacks_condition_color[29]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_45" operation_id="'+a.stacks_operation[29]+'" points="251,332,253,347,253,367,253,381,255,396,259,407,267,397,270,380,272,361,275,334,274,326,271,331,261,332,259,332,253,329,251,326" style="fill:'+a.stacks_operation_color[29]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_44" condition_id="'+a.stacks_condition[30]+'" points="286,323,284,313,283,306,287,297,289,295,291,297,299,293,304,293,311,299,316,299,319,302,319,310,315,322,314,331,311,337,305,339,297,339,290,336,288,331" style="fill:'+a.stacks_condition_color[30]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_44" operation_id="'+a.stacks_operation[30]+'" points="292,359,290,344,288,334,288,332,290,336,297,339,305,339,311,337,313,334,313,344,309,360,309,370,305,389,303,399,300,403,297,403,294,396,293,385" style="fill:'+a.stacks_operation_color[30]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_43" condition_id="'+a.stacks_condition[31]+'" points="327,310,332,300,339,294,346,291,354,297,360,305,361,313,358,327,356,340,355,346,351,352,343,355,337,353,332,347,329,345,326,332,325,322" style="fill:'+a.stacks_condition_color[31]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_43" operation_id="'+a.stacks_operation[31]+'" points="328,363,330,380,331,396,329,411,329,421,333,427,339,422,346,409,350,390,352,374,355,357,355,347,350,352,343,355,337,353,328,344,328,348" style="fill:'+a.stacks_operation_color[31]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_42" condition_id="'+a.stacks_condition[32]+'" points="363,294,370,291,382,291,390,295,393,305,389,318,388,329,387,336,384,339,377,341,373,340,369,337,367,328,364,313,363,306" style="fill:'+a.stacks_condition_color[32]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_42" operation_id="'+a.stacks_operation[32]+'" points="371,368,371,356,371,345,368,337,373,340,379,341,384,339,388,336,385,348,384,363,383,379,382,392,377,403,370,411,366,409,366,405,369,396,371,386" style="fill:'+a.stacks_operation_color[32]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_41" condition_id="'+a.stacks_condition[33]+'" points="405,295,411,294,420,295,427,299,428,306,427,319,424,331,421,336,415,339,412,338,406,333,402,320,401,310,401,301" style="fill:'+a.stacks_condition_color[33]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_41" operation_id="'+a.stacks_operation[33]+'" points="410,363,410,354,409,342,407,334,412,339,415,339,421,337,423,331,423,347,421,369,420,382,417,393,411,403,409,403,407,400,408,390,409,380" style="fill:'+a.stacks_operation_color[33]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_31" condition_id="'+a.stacks_condition[34]+'" points="447,308,448,300,451,296,462,294,469,294,472,298,474,309,473,320,469,332,465,337,461,340,456,339,453,335,451,330" style="fill:'+a.stacks_condition_color[34]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_31" operation_id="'+a.stacks_operation[34]+'" points="452,357,451,343,452,332,454,337,458,339,461,340,466,337,468,334,467,341,465,352,464,363,466,379,467,388,467,395,467,402,465,404,461,401,458,394,456,388" style="fill:'+a.stacks_operation_color[34]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_32" condition_id="'+a.stacks_condition[35]+'" points="483,305,484,296,491,292,503,292,510,293,513,299,511,310,508,328,505,338,501,341,496,342,489,337,488,337" style="fill:'+a.stacks_condition_color[35]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_32" operation_id="'+a.stacks_operation[35]+'" points="491,365,489,350,488,336,496,342,501,340,506,337,504,351,503,370,504,385,506,395,509,405,509,410,505,411,499,406,494,395,493,388" style="fill:'+a.stacks_operation_color[35]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_33" condition_id="'+a.stacks_condition[36]+'" points="517,301,525,293,531,292,536,294,545,303,550,315,550,329,547,338,547,344,543,350,535,354,527,353,523,349,521,346,519,338,517,329,514,317,513,310,513,304" style="fill:'+a.stacks_condition_color[36]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_33" operation_id="'+a.stacks_operation[36]+'" points="524,383,527,401,532,414,539,425,543,426,546,420,545,394,546,361,547,344,543,350,534,355,526,353,520,346,521,354" style="fill:'+a.stacks_operation_color[36]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_34" condition_id="'+a.stacks_condition[37]+'" points="555,309,556,301,558,299,562,299,568,296,571,293,575,292,580,295,584,298,586,295,589,295,592,305,592,315,589,327,586,333,581,337,573,338,567,337,563,336,561,327" style="fill:'+a.stacks_condition_color[37]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_34" operation_id="'+a.stacks_operation[37]+'" points="565,353,563,344,562,337,563,335,568,338,576,338,581,337,587,333,585,341,582,362,582,377,582,388,580,397,578,403,575,403,571,398,569,387" style="fill:'+a.stacks_operation_color[37]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_35" condition_id="'+a.stacks_condition[38]+'" points="598,314,597,304,598,301,604,298,607,294,613,293,621,294,628,302,630,312,627,322,622,329,618,332,612,333,607,331,603,329" style="fill:'+a.stacks_condition_color[38]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_35" operation_id="'+a.stacks_operation[38]+'" points="603,360,601,346,600,331,601,324,602,330,612,333,618,332,622,329,626,323,623,341,621,363,621,382,621,393,617,404,615,405,611,401,608,395,605,385" style="fill:'+a.stacks_operation_color[38]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_36" condition_id="'+a.stacks_condition[39]+'" points="646,337,639,335,635,325,633,314,635,304,643,297,652,297,657,299,660,303,664,299,672,297,682,299,688,303,688,311,686,319,682,329,677,334,668,337,661,336,651,336" style="fill:'+a.stacks_condition_color[39]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_36" operation_id="'+a.stacks_operation[39]+'" points="637,366,638,351,638,334,646,338,657,336,669,337,678,333,682,329,681,346,683,355,689,371,693,387,693,398,692,404,689,406,685,398,679,381,672,372,666,366,663,357,658,361,653,372,652,384,653,397,653,407,651,408,645,402,642,393" style="fill:'+a.stacks_operation_color[39]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_37" condition_id="'+a.stacks_condition[40]+'" points="690,316,690,308,694,301,702,296,707,296,712,301,715,303,720,298,728,296,735,299,739,306,741,314,740,325,738,332,729,334,721,334,712,336,706,338,697,335,692,329,690,325" style="fill:'+a.stacks_condition_color[40]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_37" operation_id="'+a.stacks_operation[40]+'" points="694,350,695,341,697,335,707,338,713,336,724,334,729,335,738,331,738,345,737,357,741,368,742,381,740,394,739,402,736,404,734,403,731,399,729,384,724,366,719,356,715,355,713,360,716,375,717,390,718,399,716,401,713,400,710,396,704,383,698,369" style="fill:'+a.stacks_operation_color[40]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_38" condition_id="'+a.stacks_condition[41]+'" points="751,332,745,329,742,322,741,313,744,305,750,299,756,298,763,303,764,305,769,298,779,295,785,299,790,311,790,322,785,330,778,334,771,337,766,338" style="fill:'+a.stacks_condition_color[41]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_38" operation_id="'+a.stacks_operation[41]+'" points="757,357,754,348,749,335,747,330,766,338,775,336,785,330,788,326,784,338,786,351,789,364,793,376,794,385,793,390,791,391,787,388,780,378,782,388,781,392,774,392,768,382" style="fill:'+a.stacks_operation_color[41]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_85" condition_id="'+a.stacks_condition[42]+'" points="235,463,235,455,239,448,242,446,247,448,249,449,255,445,260,445,264,446,267,449,274,445,279,445,282,447,283,458,281,470,276,476,268,479,258,480,251,480,243,479,238,475,236,472" style="fill:'+a.stacks_condition_color[42]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_85" operation_id="'+a.stacks_operation[42]+'" points="238,495,239,484,239,476,244,479,250,480,267,479,276,476,277,485,278,502,280,513,281,522,281,531,278,531,276,528,269,506,264,494,259,490,256,490,251,496,244,509,240,522,237,531,235,534,232,533,231,530,231,525,232,521" style="fill:'+a.stacks_operation_color[42]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_84" condition_id="'+a.stacks_condition[43]+'" points="302,481,296,479,289,475,286,466,286,455,287,450,292,446,299,448,304,452,311,449,318,448,323,456,326,465,325,474,322,481,316,482,308,480,306,480" style="fill:'+a.stacks_condition_color[43]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_84" operation_id="'+a.stacks_operation[43]+'" points="286,488,290,480,292,477,296,480,302,481,306,480,315,481,321,481,322,481,326,485,327,496,329,509,328,519,324,527,321,529,319,528,317,513,315,499,309,489,304,489,298,493,295,502,294,515,293,524,291,527,288,525,286,515,284,507,284,501" style="fill:'+a.stacks_operation_color[43]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_83" condition_id="'+a.stacks_condition[44]+'" points="342,482,337,481,332,475,332,465,333,455,337,449,343,445,347,444,353,451,357,459,358,471,355,481,348,481" style="fill:'+a.stacks_condition_color[44]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_83" operation_id="'+a.stacks_operation[44]+'" points="335,506,334,498,332,488,333,482,335,478,338,481,343,482,355,481,352,491,349,505,348,517,347,527,344,535,341,539,340,538,337,532,336,524" style="fill:'+a.stacks_operation_color[44]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_82" condition_id="'+a.stacks_condition[45]+'" points="379,478,373,478,368,473,367,465,366,454,368,449,376,444,382,443,386,447,388,460,387,473,384,478,381,478" style="fill:'+a.stacks_condition_color[45]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_82" operation_id="'+a.stacks_operation[45]+'" points="370,494,369,487,370,477,370,475,373,478,384,479,384,487,381,508,381,518,380,525,377,529,376,527,374,521,372,514" style="fill:'+a.stacks_operation_color[45]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_81" condition_id="'+a.stacks_condition[46]+'" points="414,483,410,481,407,475,407,467,406,457,407,448,414,445,419,447,423,452,423,465,422,477,420,482,417,483" style="fill:'+a.stacks_condition_color[46]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_81" operation_id="'+a.stacks_operation[46]+'" points="408,480,406,487,406,496,407,507,408,515,411,522,413,522,414,518,416,508,417,496,419,488,420,484,420,481,417,483,414,484,410,481" style="fill:'+a.stacks_operation_color[46]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_71" condition_id="'+a.stacks_condition[47]+'" points="460,483,454,481,452,473,451,461,452,452,455,446,462,446,468,449,469,457,468,470,466,478,464,481" style="fill:'+a.stacks_condition_color[47]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_71" operation_id="'+a.stacks_operation[47]+'" points="455,485,455,482,460,484,462,483,465,480,467,478,469,487,468,499,467,514,464,523,463,522,461,517,459,505" style="fill:'+a.stacks_operation_color[47]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_72" condition_id="'+a.stacks_condition[48]+'" points="497,479,492,478,488,475,487,468,487,459,489,449,492,443,498,443,503,446,508,451,508,455,507,467,506,475,503,478" style="fill:'+a.stacks_condition_color[48]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_72" operation_id="'+a.stacks_operation[48]+'" points="492,493,490,481,489,475,492,479,502,478,506,476,506,491,504,507,502,517,498,528,497,528,495,527,494,520" style="fill:'+a.stacks_operation_color[48]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_73" condition_id="'+a.stacks_condition[49]+'" points="531,482,523,482,520,480,516,472,517,460,522,450,529,444,535,447,540,453,543,463,543,472,541,478,537,481" style="fill:'+a.stacks_condition_color[49]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_73" operation_id="'+a.stacks_operation[49]+'" points="525,502,522,489,520,482,520,480,524,482,532,482,537,481,541,479,542,488,540,503,539,512,539,525,537,535,534,539,532,539,530,536,528,530" style="fill:'+a.stacks_operation_color[49]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_74" condition_id="'+a.stacks_condition[50]+'" points="569,480,560,482,554,482,551,476,550,467,552,455,559,449,564,448,571,454,576,450,581,446,586,448,590,456,590,467,586,476,581,480,572,480" style="fill:'+a.stacks_condition_color[50]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_74" operation_id="'+a.stacks_operation[50]+'" points="547,495,550,486,553,480,556,483,563,483,567,481,574,480,579,480,582,480,587,482,589,496,590,509,588,520,585,526,583,527,581,515,579,502,577,493,570,489,565,490,559,503,557,515,555,529,554,530,548,526,546,515,546,510" style="fill:'+a.stacks_operation_color[50]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="condition_75" condition_id="'+a.stacks_condition[51]+'" points="600,477,595,470,594,460,594,448,596,445,601,445,607,447,609,448,613,445,617,444,623,445,626,448,627,448,632,446,637,446,641,452,640,463,638,475,632,479,623,480,617,480,612,480" style="fill:'+a.stacks_condition_color[51]+';;stroke:black;stroke-width:3" />',output+='<polygon class="dental_chart" id="operation_75" operation_id="'+a.stacks_operation[51]+'" points="597,497,598,487,600,477,612,481,631,479,637,476,636,490,639,502,641,514,644,520,644,531,642,534,639,533,637,527,633,513,625,497,619,490,615,490,609,500,604,513,600,526,598,531,595,532,594,526,594,526" style="fill:'+a.stacks_operation_color[51]+';;stroke:black;stroke-width:3" />',output+='</svg><div style="overflow-x:hidden;">',output+="<center><h4>Legend</h4></center>",output+='<div class="col-md-6 col-sm-6 col-xs-12">',output+="<label>Condition</label>",output+='<button type="button" class="btn btn-info btn-block legend-button" id="condition_1">Caries free</button>',output+='<button type="button" class="btn btn-info btn-block legend-button" id="condition_2">Caries for filting </button>',output+='<button type="button" class="btn btn-info btn-block legend-button" id="condition_3">Caries for extraction</button>',output+='<button type="button" class="btn btn-info btn-block legend-button" id="condition_4">Root fragment</button>',output+='<button type="button" class="btn btn-info btn-block legend-button" id="condition_5">Missing due to carries </button>',output+="</div>",output+='<div class="col-md-6 col-sm-6 col-xs-12">',output+=" <label>Operation</label>",output+='<button type="button" class="btn btn-info btn-block legend-button" id="operation_1">Amalgam filling</button>',output+='<button type="button" class="btn btn-info btn-block legend-button" id="operation_2">Silicate filling</button>',output+='<button type="button" class="btn btn-info btn-block legend-button" id="operation_3">Extraction due to caries</button>',output+='<button type="button" class="btn btn-info btn-block legend-button" id="operation_4">Extraction due to other causes</button>',output+='<button type="button" class="btn btn-info btn-block legend-button" id="operation_5">Cement filling</button>',output+="</div></div>",$("#view-dental-record-modal-body").html(output),"no_additional_record"!=a.additional_dental_records?($("#selDentalCaries").html("<option selected>"+a.additional_dental_records.dental_caries+"</option>"),$("#selGingivitis").html("<option selected>"+a.additional_dental_records.gingivitis+"</option>"),$("#selPeridontalPocket").html("<option selected>"+a.additional_dental_records.peridontal_pocket+"</option>"),$("#selOralDebris").html("<option selected>"+a.additional_dental_records.oral_debris+"</option>"),$("#selCalculus").html("<option selected>"+a.additional_dental_records.calculus+"</option>"),$("#selNeoplasm").html("<option selected>"+a.additional_dental_records.neoplasm+"</option>"),$("#selDentalFacioAnomaly").html("<option selected>"+a.additional_dental_records.dental_facio_anomaly+"</option>"),$("#teethPresent").attr("value",a.additional_dental_records.teeth_present)):($("#selDentalCaries").html("<option selected>No existing record yet.</option>"),$("#selGingivitis").html("<option selected>No existing record yet.</option>"),$("#selPeridontalPocket").html("<option selected>No existing record yet.</option>"),$("#selOralDebris").html("<option selected>No existing record yet.</option>"),$("#selCalculus").html("<option selected>No existing record yet.</option>"),$("#selNeoplasm").html("<option selected>No existing record yet.</option>"),$("#selDentalFacioAnomaly").html("<option selected>No existing record yet.</option>"),$("#teethPresent").attr("value","No existing record yet.")),"unpaid"==a.payment_status?$("#print_dental_receipt").html('<button class="btn btn-info print_dental_receipt_button" disabled>Print Receipt</button>'):$("#print_dental_receipt").html('<button class="btn btn-info print_dental_receipt_button" id=print_dental_receipt_"'+c+'">Print Receipt</button>'),output="",0===a.display_dental_billing.length)output+="<p>No billing record yet.</p>",$("#dental_billing_info").css("display","none");else{if(total=0,output+="<tr><th>Service Description</th><th>Service Rate</td><th>Status</th></tr>",1==a.patient_type_checker||2==a.patient_type_checker||3==a.patient_type_checker||4==a.patient_type_checker||5==a.patient_type_checker)for(var b=0;b<a.display_dental_billing.length;b++)1==a.patient_type_checker?(output+="<tr><td>"+a.display_dental_billing[b].service_description+"</td><td>"+a.display_dental_billing[b].student_rate+"</td><td>"+a.display_dental_billing[b].status+"</td></tr>",total+=parseFloat(a.display_dental_billing[b].student_rate)):5==a.patient_type_checker?(output+="<tr><td>"+a.display_dental_billing[b].service_description+"</td><td>"+a.display_dental_billing[b].opd_rate+"</td><td>"+a.display_dental_billing[b].status+"</td></tr>",total+=parseFloat(a.display_dental_billing[b].opd_rate)):(output+="<tr><td>"+a.display_dental_billing[b].service_description+"</td><td>"+a.display_dental_billing[b].faculty_staff_dependent_rate+"</td><td>"+a.display_dental_billing[b].status+"</td></tr>",total+=parseFloat(a.display_dental_billing[b].faculty_staff_dependent_rate));else for(var b=0;b<a.display_dental_billing.length;b++)output+="<tr><td>"+a.display_dental_billing[b].service_description+"</td><td>"+a.display_dental_billing[b].senior_rate+"</td><td>"+a.display_dental_billing[b].status+"</td></tr>",total+=parseFloat(a.display_dental_billing[b].senior_rate);$("#total_dental_billing").val(parseFloat(total))}$("#dental_billing_record_dashboard").html(output),$("#dental_billing_record_dashboard_table").show(),$("#view-dental-record-modal").modal("show"),$(".print_dental_receipt_button").click(function(){var b=window.open();b.document.open,b.document.write(""),b.document.write('<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js">><\/script><script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"><\/script></head>'),b.document.write('<center><img src="/images/upvweb_logo.png"  alt="Infirmary Logo"/>'),b.document.write("<b><h4>University of the Phillipines Visayas</h4></b><h5>Miagao, Iloilo 5023</h5><h5>Telephone Number : 236-789</h5><br><h1>PATIENT BILL</h1><br></center>"),b.document.write("<h4>Patient: <b>"+a.dental_receipt.patient_first_name+"&nbsp;"+a.dental_receipt.patient_last_name+"</b></h4>"),b.document.write("<h4>Doctor: <b>"+a.dental_receipt.staff_first_name+"&nbsp;"+a.dental_receipt.staff_last_name+"</b></h4>"),b.document.write("<h5>Date of Consultation <b>"+a.dental_receipt.schedule_start+" - "+a.dental_receipt.schedule_end+"</b></h5><br>"),b.document.write('<div class="container"><table class="table table-bordered"><tbody>'+output+"</tbody></table></div><br><br>"),b.document.write('<h4 style="text-align:right;">Total Amount: <b>Php '+total+"</b></h4>"),b.document.write("<script>setTimeout(function(){window.print();},500);<\/script></body></html>")});var d;$(".dental_chart").hover(function(){var a=$(this).attr("id").split("_"),b=a[0],c=$(this).attr("operation_id"),f=$(this).attr("condition_id");d=setTimeout(function(){"operation"==b?$("#operation_"+c).effect("pulsate",{times:1},1e3):$("#condition_"+f).effect("pulsate",{times:1},1e3)},1e3)},function(){clearTimeout(d)})})}),$(".medical_appointments_prescription").click(function(){$("#remarkModal").html(""),$("#remarkModalFooter").html("");var a=$(this).attr("id").split("_")[1];$.post("/getremarkspatientdashboard",{medical_appointment_id:a},function(b,c,d){if(1==b.success&&($("#remarkModal").html(b.prescription),$("#remarkModalFooter").html("Added on: "+b.date)),"unpaid"==b.payment_status?$("#print_medical_receipt").html('<button class="btn btn-info print_medical_receipt_button" disabled>Print Receipt</button>'):$("#print_medical_receipt").html('<button class="btn btn-info print_medical_receipt_button" id=print_medical_receipt_"'+a+'">Print Receipt</button>'),output="",console.log(b.display_medical_billing),0===b.display_medical_billing.length)output+="<p>No billing record yet.</p>",$("#medical_billing_info").css("display","none");else{if(total=0,output+="<tr><th>Service Description</th><th>Service Rate</td><th>Type</th><th>Status</th></tr>",1==b.patient_type_checker||2==b.patient_type_checker||3==b.patient_type_checker||4==b.patient_type_checker||5==b.patient_type_checker)for(var e=0;e<b.display_medical_billing.length;e++)1==b.patient_type_checker?(output+="<tr><td>"+b.display_medical_billing[e].service_description+"</td><td>"+b.display_medical_billing[e].student_rate+"</td><td>"+b.display_medical_billing[e].service_type+"</td><td>"+b.display_medical_billing[e].status+"</td></tr>",total+=parseFloat(b.display_medical_billing[e].student_rate)):5==b.patient_type_checker?(output+="<tr><td>"+b.display_medical_billing[e].service_description+"</td><td>"+b.display_medical_billing[e].opd_rate+"</td><td>"+b.display_medical_billing[e].service_type+"</td><td>"+b.display_medical_billing[e].status+"</td></tr>",total+=parseFloat(b.display_medical_billing[e].opd_rate)):(output+="<tr><td>"+b.display_medical_billing[e].service_description+"</td><td>"+b.display_medical_billing[e].faculty_staff_dependent_rate+"</td><td>"+b.display_medical_billing[e].service_type+"</td><td>"+b.display_medical_billing[e].status+"</td></tr>",total+=parseFloat(b.display_medical_billing[e].faculty_staff_dependent_rate));else for(var e=0;e<b.display_medical_billing.length;e++)output+="<tr><td>"+b.display_medical_billing[e].service_description+"</td><td>"+b.display_medical_billing[e].senior_rate+"</td><td>"+b.display_medical_billing[e].service_type+"</td><td>"+b.display_medical_billing[e].status+"</td></tr>",total+=parseFloat(b.display_medical_billing[e].senior_rate);$("#total_medical_billing").val(total)}$("#medical_billing_record_dashboard").html(output),$("#medical_billing_record_dashboard_table").show(),$("#prescriptionModal").modal(),$(".print_medical_receipt_button").click(function(){var a=window.open();a.document.open,a.document.write(""),a.document.write('<html><head><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js">><\/script><script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"><\/script></head>'),a.document.write('<center><img src="/images/upvweb_logo.png"  alt="Infirmary Logo"/>'),a.document.write("<b><h4>University of the Phillipines Visayas</h4></b><h5>Miagao, Iloilo 5023</h5><h5>Telephone Number : 236-789</h5><br><h1>PATIENT BILL</h1><br></center>"),a.document.write("<h4>Patient: <b>"+b.medical_receipt.patient_first_name+"&nbsp;"+b.medical_receipt.patient_last_name+"</b></h4>"),a.document.write("<h4>Doctor: <b>"+b.medical_receipt.staff_first_name+"&nbsp;"+b.medical_receipt.staff_last_name+"</b></h4>"),a.document.write("<h5>Date of Consultation <b>"+b.medical_receipt.schedule_day+"</b></h5>"),a.document.write('<div class="container"><table class="table table-bordered"><tbody>'+output+"</tbody></table></div><br><br>"),a.document.write('<h4 style="text-align:right;">Total Amount: <b>Php '+total+"</b></h4>"),a.document.write("<script>setTimeout(function(){window.print();},500);<\/script></body></html>")})})}),$("#dental_appointments_dashboard_patient .panel").height()<$("#medical_appointments_dashboard_patient .panel").height()?$("#dental_appointments_dashboard_patient .panel").height($("#medical_appointments_dashboard_patient .panel").height()):$("#medical_appointments_dashboard_patient .panel").height($("#dental_appointments_dashboard_patient .panel").height()),setTimeout(function(){$("#patient_appointments").css("visibility","visible")},200),$('form#patient-edit-profile input[type="text"]').bind("keyup change",function(){$(this).val(a($(this).val()))})}),$(document).ready(function(){if($.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=_token]").attr("content")}}),1==$("#admingraphtrigger").val()){var a=Date.now()+-2592e5;startpoint=new Date(a),$.post("/admingraphdata",{year:startpoint.getFullYear(),month:startpoint.getMonth()+1,date:startpoint.getDate()},function(a,b,c){Highcharts.chart("admingraph",{title:{text:"Overview of Requests/Appointments"},subtitle:{text:"Based on dental and medical appointments, laboratory and x-ray requests"},xAxis:{type:"datetime"},yAxis:{title:{text:"Number of Requests/Appointments"}},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{pointStart:Date.UTC(startpoint.getFullYear(),startpoint.getMonth(),startpoint.getDate()),pointInterval:864e5}},series:[{name:"Dental Appointments",data:[a.dental_appointment_count[0],a.dental_appointment_count[1],a.dental_appointment_count[2],a.dental_appointment_count[3],a.dental_appointment_count[4],a.dental_appointment_count[5],a.dental_appointment_count[6]]},{name:"Medical Appointments",data:[a.medical_appointment_count[0],a.medical_appointment_count[1],a.medical_appointment_count[2],a.medical_appointment_count[3],a.medical_appointment_count[4],a.medical_appointment_count[5],a.medical_appointment_count[6]]},{name:"CBC",data:[a.cbc_request_count[0],a.cbc_request_count[1],a.cbc_request_count[2],a.cbc_request_count[3],a.cbc_request_count[4],a.cbc_request_count[5],a.cbc_request_count[6]]},{name:"Fecalysis",data:[a.fecalysis_request_count[0],a.fecalysis_request_count[1],a.fecalysis_request_count[2],a.fecalysis_request_count[3],a.fecalysis_request_count[4],a.fecalysis_request_count[5],a.fecalysis_request_count[6]]},{name:"Drug Test",data:[a.drug_test_request_count[0],a.drug_test_request_count[1],a.drug_test_request_count[2],a.drug_test_request_count[3],a.drug_test_request_count[4],a.drug_test_request_count[5],a.drug_test_request_count[6]]},{name:"Urinalysis",data:[a.urinalysis_request_count[0],a.urinalysis_request_count[1],a.urinalysis_request_count[2],a.urinalysis_request_count[3],a.urinalysis_request_count[4],a.urinalysis_request_count[5],a.urinalysis_request_count[6]]},{name:"Chest X-Ray",data:[a.chest_xray_request_count[0],a.chest_xray_request_count[1],a.chest_xray_request_count[2],a.chest_xray_request_count[3],a.chest_xray_request_count[4],a.chest_xray_request_count[5],a.chest_xray_request_count[6]]}]})}),$(".highcharts-container").css("height","405px")}$("#typeOfMedicalService").change(function(){var a=$(this).find(":selected")[0].value;$.post("/display_medical_services",{service_type:a},function(b){if(output=" ",b.display_medical_services){for(var c=0;c<b.display_medical_services.length;c++)output+="<tr><td style='text-align:center;'>"+b.display_medical_services[c].service_description+"</td></tr>";output+='<tr><td><button id="editMedicalServicesButton_'+a+'" type="button" class="btn btn-success btn-block editMedicalServicesButton" data-toggle="modal">Add/Edit Record</button></td></tr>'}$("#displayMedicalServices").html(output),$("#displayMedicalServicesTable").show(),$(".editMedicalServicesButton").click(function(){var a=$(this).attr("id").split("_"),c=a[1];"medical"==c||"cbc"==c||"xray"==c?$(".addmoremedicalservices").css("display","block"):$(".addmoremedicalservices").css("display","none"),$.post("/display_medical_services",{service_type:c},function(){output=" ",footer=" ",output+="<tr><th>Service Description</th><th>Student Rate</td><th>Faculty/Staff/Dependent Rate</th><th>OPD Rate</th><th>Senior Rate</th><th></th></tr>";for(var a=0;a<b.display_medical_services.length;a++)"drugtest"==b.display_medical_services[a].service_type||"fecalysis"==b.display_medical_services[a].service_type||"urinalysis"==b.display_medical_services[a].service_type?output+="<tr class='medical_services_tr'><td><input type='text' class='form-control medical_services_description' value='"+b.display_medical_services[a].service_description+"'></td><td><input type='text' class='form-control student_rate' value='"+b.display_medical_services[a].student_rate+"'></td><td><input type='text' class='form-control faculty_staff_dependent_rate' value='"+b.display_medical_services[a].faculty_staff_dependent_rate+"'></td><td><input type='text' class='form-control opd_rate' value='"+b.display_medical_services[a].opd_rate+"'></td><td><input type='text' class='form-control senior_rate' value='"+b.display_medical_services[a].senior_rate+"'></td></tr>":output+="<tr class='medical_services_tr'><td><input type='text' class='form-control medical_services_description' value='"+b.display_medical_services[a].service_description+"'></td><td><input type='text' class='form-control student_rate' value='"+b.display_medical_services[a].student_rate+"'></td><td><input type='text' class='form-control faculty_staff_dependent_rate' value='"+b.display_medical_services[a].faculty_staff_dependent_rate+"'></td><td><input type='text' class='form-control opd_rate' value='"+b.display_medical_services[a].opd_rate+"'></td><td><input type='text' class='form-control senior_rate' value='"+b.display_medical_services[a].senior_rate+"'></td><td><button class='btn btn-danger btn-sm removemedicalservice'>x</button></td></tr>";footer+='<span style="float:left; color:red; display:none;" id="error_msg_medical"><b><i>Please fill all fields.</i></b></span><button type="button" class="btn btn-danger" data-dismiss="modal">Back</button><button type="button" class="btn btn-success" id="editMedicalServicesModal">Save Changes</button>',$("#savechangesbuttonmedical").html(footer),$("#displayMedicalServicesModal").html(output),$("#displayMedicalServicesTableModal").show(),setTimeout(function(){$("#editMedicalServices").modal()},3e3),$(".removemedicalservice").click(function(){$(this).closest("tr").remove()}),$(".student_rate, .faculty_staff_dependent_rate, .opd_rate, .senior_rate").bind("keyup change",function(){$.isNumeric($(this).val())?$(this).val()<0&&$(this).val(""):$(this).val("")}),$("#editMedicalServicesModal").click(function(){var a=[],b=0;$(".medical_services_tr").each(function(){$(this).find(".medical_services_description").val()&&$(this).find(".student_rate").val()&&$(this).find(".faculty_staff_dependent_rate").val()&&$(this).find(".opd_rate").val()&&$(this).find(".senior_rate").val()?a.push($(this).find(".medical_services_description").val()+"(:::)"+$(this).find(".student_rate").val()+"(:::)"+$(this).find(".faculty_staff_dependent_rate").val()+"(:::)"+$(this).find(".opd_rate").val()+"(:::)"+$(this).find(".senior_rate").val()):b++}),a.length>0&&0==b?$.post("/update_medical_services",{medical_services:a,service_type:c},function(){$("#typeOfMedicalService").val($("#typeOfMedicalService option:first").val()),$("#displayMedicalServices").html('<div class="alert alert-success alert-dismissable"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Successful!</div>'),$("#editMedicalServices").modal("hide")}):$("#error_msg_medical").show()})})})})}),$(".editDentalServicesButton").click(function(){$.post("/edit_dental_services",{},function(a){output=" ",footer=" ",output+="<tr><th>Service Description</th><th>Student Rate</td><th>Faculty/Staff/Dependent Rate</th><th>OPD Rate</th><th>Senior Rate</th><th></th></tr>";for(var b=0;b<a.display_dental_services.length;b++)output+="<tr class='dental_services_tr'><td><input type='text' class='form-control dental_services_description' value='"+a.display_dental_services[b].service_description+"'></td><td><input type='text' class='form-control student_rate' value='"+a.display_dental_services[b].student_rate+"'></td><td><input type='text' class='form-control faculty_staff_dependent_rate' value='"+a.display_dental_services[b].faculty_staff_dependent_rate+"'></td><td><input type='text' class='form-control opd_rate' value='"+a.display_dental_services[b].opd_rate+"'></td><td><input type='text' class='form-control senior_rate' value='"+a.display_dental_services[b].senior_rate+"'></td><td><button class='btn btn-danger btn-sm removedentalservice'>x</button></td></tr>";footer+='<span style="float:left; color:red; display:none;" id="error_msg_dental"><b><i>Please fill all fields.</i></b></span><button type="button" class="btn btn-danger" data-dismiss="modal">Back</button><button type="button" class="btn btn-success" id="editDentalServicesModal">Save Changes</button>',$("#savechangesbuttondental").html(footer),$("#displayDentalServicesModal").html(output),$("#displayDentalServicesTableModal").show(),setTimeout(function(){$("#editDentalServices").modal()},3e3),$(".removedentalservice").click(function(){$(this).closest("tr").remove()}),$(".student_rate, .faculty_staff_dependent_rate, .opd_rate, .senior_rate").bind("keyup change",function(){$.isNumeric($(this).val())?$(this).val()<0&&$(this).val(""):$(this).val("")}),$("#editDentalServicesModal").click(function(){var a=[],b=0;$(".dental_services_tr").each(function(){$(this).find(".dental_services_description").val()&&$(this).find(".student_rate").val()&&$(this).find(".faculty_staff_dependent_rate").val()&&$(this).find(".opd_rate").val()&&$(this).find(".senior_rate").val()?a.push($(this).find(".dental_services_description").val()+"(:::)"+$(this).find(".student_rate").val()+"(:::)"+$(this).find(".faculty_staff_dependent_rate").val()+"(:::)"+$(this).find(".opd_rate").val()+"(:::)"+$(this).find(".senior_rate").val()):b++}),a.length>0&&0==b?$.post("/update_dental_services",{dental_services:a},function(a){$("#displayDentalServices").html('<div class="alert alert-success alert-dismissable"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Successful!</div>'),$("#editDentalServices").modal("hide")}):$("#error_msg_dental").show()})})}),$(".addmoremedicalservices").click(function(){$(this).parents(".add-more-medical").find("tbody").append("<tr class='medical_services_tr'><td><input type='text' class='form-control medical_services_description'></td><td><input type='text' class='form-control student_rate'></td><td><input type='text' class='form-control faculty_staff_dependent_rate'></td><td><input type='text' class='form-control opd_rate'></td><td><input type='text' class='form-control senior_rate'></td><td><button class='btn btn-danger btn-sm removemedicalservice'>x</button></td></tr>"),$(".removemedicalservice").click(function(){$(this).closest("tr").remove()})}),$(".addmoredentalservices").click(function(){$(this).parents(".add-more-dental").find("tbody").append("<tr class='dental_services_tr'><td><input type='text' class='form-control dental_services_description'></td><td><input type='text' class='form-control student_rate'></td><td><input type='text' class='form-control faculty_staff_dependent_rate'></td><td><input type='text' class='form-control opd_rate'></td><td><input type='text' class='form-control senior_rate'></td><td><button class='btn btn-danger btn-sm removedentalservice'>x</button></td></tr>"),$(".removedentalservice").click(function(){$(this).closest("tr").remove()})}),$("#addapatientaccountpanel #user_name").keyup(function(a){$.post("/admin/checkifuserexists",{user_name:$("#addapatientaccountpanel #user_name").val()},function(a,b,c){"yes"==a.already_exists?($("#addapatientaccountpanel #user_name").attr("data-toggle","tooltip"),$("#addapatientaccountpanel #user_name").attr("title","User already exists!"),$("#addapatientaccountpanel #user_name").tooltip("show"),$("#addapatientaccountsubmit").attr("disabled","disabled")):($("#addapatientaccountpanel #user_name").tooltip("destroy"),$("#addapatientaccountsubmit").removeAttr("disabled"))})}),$("#staff_id").keyup(function(a){$.post("/admin/checkifuserexists",{user_name:$("#staff_id").val()},function(a,b,c){"yes"==a.already_exists?($("#staff_id").attr("data-toggle","tooltip"),$("#staff_id").attr("title","User already exists!"),$("#staff_id").tooltip("show"),$("#addstaffaccountsubmit").attr("disabled","disabled")):($("#staff_id").tooltip("destroy"),$("#addstaffaccountsubmit").removeAttr("disabled"))})}),$(".changepwbutton").click(function(a){$("#changepwerrormessage").text("");var b=$(this).attr("id").split("_")[1];$("#changepwmodaluser").text(b),$("#changepwmodal input").val(""),$("#changepwmodal").modal(),$("#newpassword").bind("keyup change",function(){$("#changepwerrormessage").text(""),$(this).val()!=$("#confirmnewpassword").val()&&$("#confirmnewpassword").val()&&$("#changepwerrormessage").text("Error! Passwords do not match.").css("color","red"),$("#confirmnewpassword").bind("keyup change",function(a){$("#changepwerrormessage").text(""),$(this).val()!=$("#newpassword").val()&&$("#changepwerrormessage").text("Error! Passwords do not match.").css("color","red"),$("#confirmnewpassword").val()&&$("#newpassword").val()&&$("#confirmnewpassword").val()==$("#newpassword").val()&&$("#changepwerrormessage").text("Passwords match.").css("color","green")})}),$("#savepwbutton").click(function(a){$("#confirmnewpassword").val()&&$("#newpassword").val()&&$("#newpassword").val()==$("#confirmnewpassword").val()&&$.post("/admin/changepassword",{user_id:b,password:$("#newpassword").val()},function(a,b,c){"yes"==a.success&&$("#changepwmodal").modal("hide")})})}),$("#generatescheduletable").tablesorter({sortList:[[0,0],[2,0]]}),$("#postpeschedule").click(function(a){$.post("/admin/postschedule",{},function(a,b,c){$("#postpeschedule").attr("disabled","disabled")})})}),$(document).ready(function(){function b(a){for(var b=a+"=",c=decodeURIComponent(document.cookie),d=c.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(0==f.indexOf(b))return f.substring(b.length,f.length)}return""}$('input[type="text"], textarea').bind("keyup change",function(a){$(this).val($(this).val().charAt(0).toUpperCase()+$(this).val().substr(1))}),$(document).bind("contextmenu",function(a){return a.stopPropagation(),a.preventDefault(),a.stopImmediatePropagation(),!1});var a=1+Math.floor(3*Math.random());1==a?$("#homeJumbotron").css("background-image","url(../images/infirm.jpg)"):2==a?$("#homeJumbotron").css("background-image","url(../images/infirm1.jpg)"):3==a&&$("#homeJumbotron").css("background-image","url(../images/infirm2.jpg)"),numOfClicksMedical=0,numOfClicksDental=0,percentageDental=0,percentageMedical=0,$(".h1Title").mouseover(function(){$(this).find(".h3Icon").css("animation","spin 2s")}),$(window).scroll(function(){$(".fadeShow").each(function(a){var b=$(this).offset().top+$(this).outerHeight();$(window).scrollTop()+$(window).height()>b&&$(this).animate({opacity:"1"},500)})}),$("#login").click(function(){return $("#user_name").val()||$("#password").val()?!$("#user_name").val()&&$("#password").val()?($("#loginErrorMessage").html("Enter username"),!1):$("#user_name").val()&&!$("#password").val()?($("#loginErrorMessage").html("Enter password"),!1):void 0:($("#loginErrorMessage").html("Enter username and password"),!1)}),$(".homeForm:first").delay("200").fadeIn(),$(".homeForm:last").delay("500").fadeIn(),$("#loginbutton").click(function(){$("#user_name").val()&&$("#password").val()&&($("#user_name").attr("disabled","disabled"),$("#password").attr("disabled","disabled"))}),""==b("displaywelcomemodal")&&(document.cookie="displaywelcomemodal=yes",$("#announcement_modal").modal()),$(".announcement_title").click(function(a){var b=$(this).attr("id");$.post("/announcementmodal",{announcement_id:b},function(a,b,c){$("#announcementTitleModal").html(a.announcement.announcement_title),$("#announcementBodyModal").html(a.announcement.announcement_body),$("#announcement_modal").modal()})}),$(".medicalStaff .clickToShowSchedule").click(function(){$("#staff-modal-body table").html("");var a=$(this).attr("id").split("_")[1];$.post("/viewmedicalstaffinfo",{staff_id:a},function(a,b,c){if($("#staff-modal-title").html(a.staff_info.staff_first_name+" "+a.staff_info.staff_last_name+"'s Schedule"),a.times)for(var d=0;d<a.schedules.length;d++)$("#staff-modal-body table").append("<tr><td class='text-center'>"+a.schedules[d]+"</td><td>"+a.times[d]+"</tr>");else for(var d=0;d<a.schedules.length;d++)$("#staff-modal-body table").append("<tr><td class='text-center'>"+a.schedules[d]+"</td></tr>");$("#staffinfomodal").modal()})}),$("#about_medical").click(function(){$("#medicalServicesModal").modal()}),$("#about_dental").click(function(){$("#dentalServicesModal").modal()}),$("#about_lab").click(function(){$("#labServicesModal").modal()}),$("#about_xray").click(function(){$("#xrayServicesModal").modal()}),$(function(){$("#about_medical").hover(function(){$(this).addClass("hover_medical")},function(){$(this).removeClass("hover_medical")})}),$(function(){$("#about_dental").hover(function(){$(this).addClass("hover_dental")},function(){$(this).removeClass("hover_dental")})}),$(function(){$("#about_lab").hover(function(){$(this).addClass("hover_lab")},function(){$(this).removeClass("hover_lab")})}),$(function(){$("#about_xray").hover(function(){$(this).addClass("hover_xray")},function(){$(this).removeClass("hover_xray")})})}),$(document).ready(function(){function a(a){for(var b=a.split(" "),c="",d=0;d<b.length;d++)c+=b[d].substring(0,1).toUpperCase()+b[d].substring(1)+" ";return c.substring(0,c.length-1)}function b(){$("#password_modal_medical").val()&&$("#first_name_medical").val()&&$("#last_name_medical").val()&&9==$("#user_name_modal_medical").val().length&&$.isNumeric($("#user_name_modal_medical").val())?$.post("/checkifuserexists",{user_name:$("#user_name_modal_medical").val()},function(a,b,c){"yes"==a.already_exists?($("#user_name_modal_medical").attr("data-toggle","tooltip"),$("#user_name_modal_medical").attr("title","User already exists!"),$("#user_name_modal_medical").tooltip("show"),$("#signupnextMedical_modal").attr("disabled","disabled")):($("#user_name_modal_medical").tooltip("destroy"),$("#signupnextMedical_modal").removeAttr("disabled"))}):($("#user_name_modal_medical").tooltip("destroy"),$("#signupnextMedical_modal").attr("disabled","disabled"))}function c(){$("input[name='patient_type_medical']:checked").val()&&$("input[name='sex_medical']:checked").val()&&$("#birthdate_medical").val()&&$("#civil_status_medical").val()&&$("#religion_medical").val()&&$("#nationality_medical").val()&&$("#father_first_medical").val()&&$("#father_last_medical").val()&&$("#mother_first_medical").val()&&$("#mother_last_medical").val()&&$("#street_medical").val()&&$("#town_medical").val()&&$("#province_medical").val()&&$("#personalcontactnumber_medical").val()?($("#signupnextMedical_modal").removeAttr("disabled"),$("#yearlevel_medical").is(":disabled")||$("#yearlevel_medical").val()&&$("#degree_program_medical").val()||$("#signupnextMedical_modal").attr("disabled","disabled")):$("#signupnextMedical_modal").attr("disabled","disabled")}function d(){$("#guardian_first_medical").val()&&$("#guardian_last_medical").val()&&$("#guardian_relationship_medical").val()&&$("#guardian_town_medical").val()&&$("#guardian_province_medical").val()&&$("#guardianresidencecellphone_medical").val()?$("#signupnextMedical_modal").removeAttr("disabled"):$("#signupnextMedical_modal").attr("disabled","disabled")}function e(){$("#illness_history_medical").val()&&$("#operation_history_medical").val()&&$("#allergies_history_medical").val()&&$("#family_history_medical").val()&&$("#maintenance_medication_history_medical").val()?$("#signupconfirmMedical_modal").removeAttr("disabled"):$("#signupconfirmMedical_modal").attr("disabled","disabled")}function f(){$("#password_modal_dental").val()&&$("#first_name_dental").val()&&$("#last_name_dental").val()&&9==$("#user_name_modal_dental").val().length&&$.isNumeric($("#user_name_modal_dental").val())?$.post("/checkifuserexists",{user_name:$("#user_name_modal_dental").val()},function(a,b,c){"yes"==a.already_exists?($("#user_name_modal_dental").attr("data-toggle","tooltip"),$("#user_name_modal_dental").attr("title","User already exists!"),$("#user_name_modal_dental").tooltip("show"),$("#signupnextDental_modal").attr("disabled","disabled")):($("#user_name_modal_dental").tooltip("destroy"),$("#signupnextDental_modal").removeAttr("disabled"))}):($("#user_name_modal_dental").tooltip("destroy"),$("#signupnextDental_modal").attr("disabled","disabled"))}function g(){$("input[name='patient_type_dental']:checked").val()&&$("input[name='sex_dental']:checked").val()&&$("#birthdate_dental").val()&&$("#civil_status_dental").val()&&$("#religion_dental").val()&&$("#nationality_dental").val()&&$("#father_first_dental").val()&&$("#father_last_dental").val()&&$("#mother_first_dental").val()&&$("#mother_last_dental").val()&&$("#street_dental").val()&&$("#town_dental").val()&&$("#province_dental").val()&&$("#residencetelephone_dental").val()&&$("#personalcontactnumber_dental").val()&&$("#residencecellphone_dental").val()?($("#signupnextDental_modal").removeAttr("disabled"),$("#yearlevel_dental").is(":disabled")||$("#yearlevel_dental").val()&&$("#degree_program_dental").val()||$("#signupnextDental_modal").attr("disabled","disabled")):$("#signupnextDental_modal").attr("disabled","disabled")}function h(){$("#guardian_first_dental").val()&&$("#guardian_last_dental").val()&&$("#guardian_relationship_dental").val()&&$("#guardian_town_dental").val()&&$("#guardian_province_dental").val()&&$("#guardianresidencecellphone_dental").val()?$("#signupnextDental_modal").removeAttr("disabled"):$("#signupnextDental_modal").attr("disabled","disabled")}function i(){$("#illness_history_dental").val()&&$("#operation_history_dental").val()&&$("#allergies_history_dental").val()&&$("#family_history_dental").val()&&$("#maintenance_medication_history_dental").val()?$("#signupconfirmDental_modal").removeAttr("disabled"):$("#signupconfirmDental_modal").attr("disabled","disabled")}$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=_token]").attr("content")}}),numOfClicksMedical=0,numOfClicksDental=0,percentageDental=0,percentageMedical=0,$("#typeDental").is(":checked")&&$("#dentalAppointment0").fadeIn(),$("#typeMedical").is(":checked")&&$("#medicalAppointment0").fadeIn(),$("#typeDental").click(function(){$(this).is(":checked")?$("#dentalAppointment0").fadeIn():$("#dentalAppointment0").fadeOut()}),$("#typeMedical").click(function(){$(this).is(":checked")?$("#medicalAppointment0").fadeIn():$("#medicalAppointment0").fadeOut()}),$("#selectdentaldate").change(function(){var a=$(this).find(":selected")[0].value;$("#selectdentaltime").attr("disabled","disabled"),$.ajax({type:"POST",url:displayDentalSchedule,data:{dental_date:a,_token:token},success:function(a){if(a.start.length>0){$("#selectdentaltime").html("").append("<option disabled selected>Select dentist and time</option>");for(var b=0;b<a.start.length;b++)$("#selectdentaltime").append("<option id="+a.id[b]+">"+a.staff[b]+" "+a.start[b]+" - "+a.end[b]+"</option>");$("#selectdentaltime").removeAttr("disabled")}else $("#selectdentaltime").html("").append("<option disabled selected>No available dentist in the specified schedule</option>")}})}),$("#selectmedicaldate").change(function(){var a=$(this).find(":selected")[0].value;$("#selectmedicaldoctor").attr("disabled","disabled"),$.ajax({type:"POST",url:displayMedicalSchedule,data:{medical_date:a,_token:token},success:function(a){if(a.staff.length>0){$("#selectmedicaldoctor").html("").append("<option disabled selected>Select doctor</option>");for(var b=0;b<a.staff.length;b++)$("#selectmedicaldoctor").append("<option id="+a.id[b]+">"+a.staff[b]+"</option>");$("#selectmedicaldoctor").removeAttr("disabled")}else $("#selectmedicaldoctor").html("").append("<option disabled selected>No available doctor in the specified schedule</option>")}})}),$("#submitdentalappointment").click(function(){var a=$("#selectdentaldate").val(),b=$("#selectdentaltime").find(":selected")[0].id;$("#dentalNotes").val()?($("#dentalNotesErrorMsg").css("color","black"),$("#dentalNotesErrorMsg").html("Reasons (e.g. molar toothache):")):($("#dentalNotesErrorMsg").css("color","red"),$("#dentalNotesErrorMsg").html("Reasons (e.g. molar toothache): REQUIRED")),a?($("#selectdentaldateErrorMsg").css("color","black"),$("#selectdentaldateErrorMsg").html("Date:")):($("#selectdentaldateErrorMsg").css("color","red"),$("#selectdentaldateErrorMsg").html("Date: REQUIRED")),b?($("#selectdentaltimeErrorMsg").css("color","black"),$("#selectdentaltimeErrorMsg").html("Dentist and Time:")):($("#selectdentaltimeErrorMsg").css("color","red"),$("#selectdentaltimeErrorMsg").html("Dentist and Time: REQUIRED")),$("#dentalNotes").val()&&b&&a&&$.post("/createappointment_dental",{reasons:$("#dentalNotes").val(),dental_schedule_id:b},function(a){"yes"==a.success?($("#dentalAppointment").removeClass("panel panel-default").addClass("panel panel-success"),$("#dentalNotes").attr("disabled","disabled"),$("#selectdentaltime").attr("disabled","disabled"),$("#submitDentalAppointment").addClass("disabled"),$("#selectdentaldate").attr("disabled","disabled"),$("#dentalAppointmentPanelBody").css("background-color","#d6e9c6"),$("#submitdentalappointment").attr("disabled","disabled"),$("#appointment_success").modal()):"alreadyexists"==a.success?alert("Appointment already exists!"):($("#login_dental_error").html(""),$("#loginmodaldental #user_name_modal_dental").val(""),$("#loginmodadental #password_modal_dental").val(""),$("#loginmodaldental").modal(),$("#loginmodaldental").modal())})}),$("#submitmedicalappointment").click(function(){var a=$("#selectmedicaldoctor").find(":selected")[0].id,b=$("#selectmedicaldate").val();$("#medicalNotes").val()?($("#medicalNotesErrorMsg").css("color","black"),$("#medicalNotesErrorMsg").html("Reasons (e.g. physical pain felt):")):($("#medicalNotesErrorMsg").css("color","red"),$("#medicalNotesErrorMsg").html("Reasons (e.g. physical pain felt): REQUIRED")),b?($("#selectmedicaldateErrorMsg").css("color","black"),$("#selectmedicaldateErrorMsg").html("Date:")):($("#selectmedicaldateErrorMsg").css("color","red"),$("#selectmedicaldateErrorMsg").html("Date: REQUIRED")),a?($("#selectmedicaldoctorErrorMsg").css("color","black"),$("#selectmedicaldoctorErrorMsg").html("Doctor:")):($("#selectmedicaldoctorErrorMsg").css("color","red"),$("#selectmedicaldoctorErrorMsg").html("Doctor: REQUIRED")),$("#medicalNotes").val()&&a&&b&&$.post("/createappointment_medical",{reasons:$("#medicalNotes").val(),medical_schedule_id:a},function(a){"yes"==a.success?($("#medicalAppointment").removeClass("panel panel-default").addClass("panel panel-success"),$("#medicalNotes").attr("disabled","disabled"),$("#selMedicalDate").attr("disabled","disabled"),$("#selMedicalDoctor").attr("disabled","disabled"),$("#submitMedicalAppointment").addClass("disabled"),$("#selectmedicaldate").attr("disabled","disabled"),$("#selectmedicaldoctor").attr("disabled","disabled"),$("#medicalAppointmentPanelBody").css("background-color","#d6e9c6"),$("#submitmedicalappointment").attr("disabled","disabled"),$("#appointment_success").modal()):"alreadyexists"==a.success?alert("Appointment already exists!"):($("#login_medical_error").html(""),$("#loginmodalmedical #user_name_modal_medical").val(""),$("#loginmodalmedical #password_modal_medical").val(""),$("#loginmodalmedical").modal())})}),$('#loginmodaldental input[type="text"], #loginmodalmedical input[type="text"]').bind("keyup change",function(b){$(this).val(a($(this).val()))}),$("#residencetelephone_medical, #residencecellphone_medical, #personalcontactnumber_medical, #guardianresidencetelephone_medical, #guardianresidencecellphone_medical, #residencetelephone_dental, #residencecellphone_dental, #personalcontactnumber_dental, #guardianresidencetelephone_dental, #guardianresidencecellphone_dental, #residence_telephone_number, #residence_contact_number, #personal_contact_number, #guardian_tel_number, #guardian_cellphone").bind("keyup change",function(a){$.isNumeric($(this).val().substr($(this).val().length-1))||$(this).val($(this).val().substr(0,$(this).val().length-1))}),$("#town_medical, #province_medical, #guardian_town_medical, #guardian_province_medical, #town_dental, #province_dental, #guardian_town_dental, #guardian_province_dental, #town, #province, #guardian_town, #guardian_province").bind("keyup change",function(a){$.isNumeric($(this).val().substr($(this).val().length-1))&&$(this).val($(this).val().substr(0,$(this).val().length-1))}),$("#signupMedical_modal").click(function(a){$("#user_name_modal_medical, #password_modal_medical, #first_name_medical, #last_name_medical").bind("keyup change",function(){b()}),$(".signup2_medical input").bind("keyup change",function(a){c()}),$(".signup3_medical input").bind("keyup change",function(a){d()}),$(".signup4_medical input").bind("keyup change",function(a){e()})}),$("#signupDental_modal").click(function(a){$("#user_name_modal_dental, #password_modal_dental, #first_name_dental, #last_name_dental").bind("keyup change",function(){f()}),$(".signup2_dental input").bind("keyup change",function(a){g()}),$(".signup3_dental input").bind("keyup change",function(a){h()}),$(".signup4_dental input").bind("keyup change",function(a){i()})}),$("#signupDental_modal").click(function(){$("#login_dental_error").html(""),numOfClicksDental=0,$(".signup1_dental").show(),$(".signup2_dental").hide(),$(".signup_progressbar_dental").show(),$(this).hide(),$("#signupbackDental_modal").show(),$("#signupnextDental_modal").show(),percentageDental+=25,$("#changeProgressDental").attr("aria-valuenow",percentageDental).css("width",percentageDental+"%").html("1 of 4"),$("#login_modal_dental").hide()}),$("#signupMedical_modal").click(function(){$("#login_medical_error").html(""),numOfClicksMedical=0,$(".signup1_medical").show(),$(".signup2_medical").hide(),$(".signup_progressbar").show(),$(this).hide(),$("#signupbackMedical_modal").show(),$("#signupnextMedical_modal").show(),percentageMedical+=25,$("#changeProgress").attr("aria-valuenow",percentageMedical).css("width",percentageMedical+"%").html("1 of 4"),$("#login_modal_medical").hide()}),$("#login_modal_dental").click(function(){$("#login_dental_error").html("");var a=$("#selectdentaltime").find(":selected")[0].id;$.post("/loginfromdentalappointment",{user_name_modal_dental:$("#user_name_modal_dental").val(),password_modal_dental:$("#password_modal_dental").val(),reasons:$("#dentalNotes").val(),dental_schedule_id:a},function(a){"yes"==a.passwordmatch?($("#login_dental_error").html(""),$("#dentalAppointment").removeClass("panel panel-default").addClass("panel panel-success"),$("#dentalNotes").attr("disabled","disabled"),$("#selDentalDate").attr("disabled","disabled"),$("#selDentalTime").attr("disabled","disabled"),$("#submitDentalAppointment").addClass("disabled"),$("#selectdentaldate").attr("disabled","disabled"),$("#selectdentaltime").attr("disabled","disabled"),$("#dentalAppointmentPanelBody").css("background-color","#d6e9c6"),$("#submitdentalappointment").attr("disabled","disabled"),$("#navigationBar").load(location.href+" #navigationBar"),$("#loginmodaldental").modal("hide"),$("#appointment_success").modal()):$("#login_dental_error").css("color","red").delay(2e3).html("Your login credentials are incorrect.")})}),$("#login_modal_medical").click(function(){$("#login_medical_error").html("");var a=$("#selectmedicaldoctor").find(":selected")[0].id;$.post("/loginfrommedicalappointment",{user_name_modal_medical:$("#user_name_modal_medical").val(),password_modal_medical:$("#password_modal_medical").val(),reasons:$("#medicalNotes").val(),medical_schedule_id:a},function(a){"yes"==a.passwordmatch?($("#login_medical_error").html(""),$("#medicalAppointment").removeClass("panel panel-default").addClass("panel panel-success"),$("#medicalNotes").attr("disabled","disabled"),$("#selMedicalDate").attr("disabled","disabled"),$("#submitMedicalAppointment").addClass("disabled"),$("#selectmedicaldate").attr("disabled","disabled"),$("#selectmedicaldoctor").attr("disabled","disabled"),$("#medicalAppointmentPanelBody").css("background-color","#d6e9c6"),$("#navigationBar").load(location.href+" #navigationBar"),$("#submitmedicalappointment").attr("disabled","disabled"),$("#loginmodalmedical").modal("hide"),$("#appointment_success").modal()):"alreadyexists"==a.passwordmatch?$("#login_medical_error").css("color","red").delay(2e3).html("Error! You have existing appointment with this schedule."):$("#login_medical_error").css("color","red").delay(2e3).html("Your login credentials are incorrect.")})}),$("#birthdate_dental").keyup(function(){Math.floor(new Date-new Date($("#birthdate_dental").val()))<=0&&$("#birthdate_dental").val(""),5==$("input[name=patient_type_dental]:checked").val()&&Math.floor((new Date-new Date($("#birthdate_dental").val()))/315576e5)>=60?$("#senior_citizen_id_dental").removeAttr("disabled"):$("#senior_citizen_id_dental").attr("disabled","disabled")}),$("#birthdate_medical").keyup(function(){Math.floor(new Date-new Date($("#birthdate_medical").val()))<=0&&$("#birthdate_medical").val(""),5==$("input[name=patient_type_medical]:checked").val()&&Math.floor((new Date-new Date($("#birthdate_medical").val()))/315576e5)>=60?$("#senior_citizen_id_medical").removeAttr("disabled"):$("#senior_citizen_id_medical").attr("disabled","disabled")}),$("#selMedicalDoctor").closest("div").css({marginBottom:"0px"}),$("input[name=patient_type_dental]").click(function(){1==$("input[name=patient_type_dental]:checked").val()?($(".not-required-asterisk").show(),$("#degree_program_dental").removeAttr("disabled"),$("#yearlevel_dental").removeAttr("disabled"),$("#senior_citizen_id_dental").attr("disabled","disabled")):5==$("input[name=patient_type_dental]:checked").val()&&Math.floor((new Date-new Date($("#birthdate_dental").val()))/315576e5)>=60?($(".not-required-asterisk").hide(),$("#degree_program_dental option[value=default]").prop("selected",!0),$("#yearlevel_dental").val(""),$("#degree_program_dental").attr("disabled","disabled"),$("#yearlevel_dental").attr("disabled","disabled"),$("#senior_citizen_id_dental").removeAttr("disabled")):($(".not-required-asterisk").hide(),$("#senior_citizen_id_dental").attr("disabled","disabled"),$("#degree_program_dental option[value=default]").prop("selected",!0),$("#yearlevel_dental").val(""),$("#degree_program_dental").attr("disabled","disabled"),$("#yearlevel_dental").attr("disabled","disabled")),g()}),$("input[name=patient_type_medical]").click(function(){1==$("input[name=patient_type_medical]:checked").val()?($("#senior_citizen_id_medical").val(""),$("#degree_program_medical").removeAttr("disabled").attr("required","required"),$("#yearlevel_medical").removeAttr("disabled").attr("required","required"),$("#senior_citizen_id_medical").attr("disabled","disabled"),$(".not-required-asterisk").show()):5==$("input[name=patient_type_medical]:checked").val()&&Math.floor((new Date-new Date($("#birthdate_medical").val()))/315576e5)>=60?($(".not-required-asterisk").hide(),$("#degree_program_medical option[value=default]").prop("selected",!0),$("#yearlevel_medical").val(""),$("#degree_program_medical").attr("disabled","disabled"),$("#yearlevel_medical").attr("disabled","disabled"),$("#senior_citizen_id_medical").removeAttr("disabled")):($(".not-required-asterisk").hide(),$("#senior_citizen_id_medical").val(""),$("#senior_citizen_id_medical").attr("disabled","disabled"),$("#degree_program_medical option[value=default]").prop("selected",!0),$("#yearlevel_medical").val(""),$("#degree_program_medical").attr("disabled","disabled"),$("#yearlevel_medical").attr("disabled","disabled")),c()}),$("#signupconfirmDental_modal").click(function(){$("#signupconfirmDental_modal").val("Please wait..."),$("#login_dental_error").html("");var a=$("#selectdentaltime").find(":selected")[0].id;$("#user_name_modal_dental").val()&&$("#password_modal_dental").val()&&$("#dentalNotes").val()&&a&&$("#dentalNotes").val()&&$("#first_name_dental").val()&&$("#last_name_dental").val()&&$("input[name='patient_type_dental']:checked").val()&&$("input[name='sex_dental']:checked").val()&&$("#birthdate_dental").val()&&$("#civil_status_dental").val()&&$("#religion_dental").val()&&$("#nationality_dental").val()&&$("#father_first_dental").val()&&$("#father_last_dental").val()&&$("#mother_first_dental").val()&&$("#mother_last_dental").val()&&$("#street_dental").val()&&$("#town_dental").val()&&$("#province_dental").val()&&$("#personalcontactnumber_dental").val()&&$("#guardian_first_dental").val()&&$("#guardian_last_dental").val()&&$("#guardian_relationship_dental").val()&&$("#guardian_town_dental").val()&&$("#guardian_province_dental").val()&&$("#guardianresidencecellphone_dental").val()&&$("#illness_history_dental").val()&&$("#operation_history_dental").val()&&$("#allergies_history_dental").val()&&$("#family_history_dental").val()&&$("#maintenance_medication_history_dental").val()?($("#loginmodaldental input, #loginmodaldental select").attr("disabled","disabled"),$.post("/signupfromdentalappointment",{user_name:$("#user_name_modal_dental").val(),password:$("#password_modal_dental").val(),reasons:$("#dentalNotes").val(),schedule_id:a,reasons:$("#dentalNotes").val(),first_name:$("#first_name_dental").val(),middle_name:$("#middle_name_dental").val(),last_name:$("#last_name_dental").val(),patient_type_id:$("input[name='patient_type_dental']:checked").val(),sex:$("input[name='sex_dental']:checked").val(),year_level:$("#yearlevel_dental").val(),degree_program_id:$("#degree_program_dental").val(),birthdate:$("#birthdate_dental").val(),senior_citizen_id:$("#senior_citizen_id_dental").val(),civil_status:$("#civil_status_dental").val(),religion:$("#religion_dental").val(),nationality:$("#nationality_dental").val(),father_first_name:$("#father_first_dental").val(),father_middle_name:$("#father_middle_dental").val(),father_last_name:$("#father_last_dental").val(),mother_first_name:$("#mother_first_dental").val(),mother_middle_name:$("#mother_middle_dental").val(),mother_last_name:$("#mother_last_dental").val(),street:$("#street_dental").val(),town:$("#town_dental").val(),province:$("#province_dental").val(),residencetelephone:$("#residencetelephone_dental").val(),personalcontactnumber:$("#personalcontactnumber_dental").val(),residencecellphone:$("#residencecellphone_dental").val(),guardian_first_name:$("#guardian_first_dental").val(),guardian_middle_name:$("#guardian_middle_dental").val(),guardian_last_name:$("#guardian_last_dental").val(),guardian_relationship:$("#guardian_relationship_dental").val(),guardian_street:$("#guardian_street_dental").val(),guardian_town:$("#guardian_town_dental").val(),guardian_province:$("#guardian_province_dental").val(),guardianresidencetelephone:$("#guardianresidencetelephone_dental").val(),guardianresidencecellphone:$("#guardianresidencecellphone_dental").val(),illness_history:$("#illness_history_dental").val(),operation_history:$("#operation_history_dental").val(),allergies_history:$("#allergies_history_dental").val(),family_history:$("#family_history_dental").val(),maintenance_medication_history:$("#maintenance_medication_history_dental").val()},function(a){"Success"==a.message?($("#login_dental_error").html(""),$("#dentalAppointment").removeClass("panel panel-default").addClass("panel panel-success"),$("#dentalNotes").attr("disabled","disabled"),$("#selectdentaldate").attr("disabled","disabled"),$("#selectdentaltime").attr("disabled","disabled"),$("#submitDentalAppointment").addClass("disabled"),$("#dentalAppointmentPanelBody").css("background-color","#d6e9c6"),$("#navigationBar").load(location.href+" #navigationBar"),$("#loginmodaldental").find("input").attr({disabled:"disabled"}),$("#submitdentalappointment").attr("disabled","disabled"),setTimeout(function(){$("#loginmodaldental").modal("hide")},500),$("#signupconfirmDental_modal").val("Registered!"),setTimeout(function(){$("#signupconfirmDental_modal").val("Confirm Sign Up")},1e3),$("#appointment_success").modal()):($("#signupconfirmDental_modal").val("Confirm Sign Up"),$("#login_dental_error").css("color","red").delay(2e3).html(a.message))})):($("#signupconfirmDental_modal").val("Confirm Sign Up"),$("#login_dental_error").css("color","red").delay(2e3).html("Please fill out all fields!"))}),$("#signupnextDental_modal").click(function(){$(this).attr("disabled","disabled"),numOfClicksDental++,1==numOfClicksDental&&(g(),$(".signup0_dental").hide(),$(".signup1_dental").hide(),$(".signup2_dental").show(),percentageDental+=25,$("#changeProgressDental").attr("aria-valuenow",percentageDental).css("width",percentageDental+"%").html("2 of 4")),2==numOfClicksDental&&(h(),$(".signup2_dental").hide(),$(".signup3_dental").show(),percentageDental+=25,$("#changeProgressDental").attr("aria-valuenow",percentageDental).css("width",percentageDental+"%").html("3 of 4")),3==numOfClicksDental&&(i(),$(".signup3_dental").hide(),$(".signup4_dental").show(),$("#signupnextDental_modal").hide(),$("#signupconfirmDental_modal").show(),percentageDental+=25,$("#changeProgressDental").attr("aria-valuenow",percentageDental).css("width",percentageDental+"%").html("4 of 4"))}),$("#signupbackDental_modal").click(function(){numOfClicksDental--,2==numOfClicksDental&&(h(),$(".signup3_dental").show(),$(".signup4_dental").hide(),$("#signupnextDental_modal").show(),$("#signupconfirmDental_modal").hide(),percentageDental-=25,$("#changeProgressDental").attr("aria-valuenow",percentageDental).css("width",percentageDental+"%").html("3 of 4")),1==numOfClicksDental&&(g(),$(".signup2_dental").show(),$(".signup3_dental").hide(),percentageDental-=25,$("#changeProgressDental").attr("aria-valuenow",percentageDental).css("width",percentageDental+"%").html("2 of 4")),0==numOfClicksDental&&(f(),$(".signup0_dental").show(),$(".signup1_dental").show(),$(".signup2_dental").hide(),percentageDental-=25,$("#changeProgressDental").attr("aria-valuenow",percentageDental).css("width",percentageDental+"%").html("1 of 4")),numOfClicksDental<0&&($(".signup0_dental").show(),$(".signup1_dental").hide(),numOfClicksDental=0,percentageDental-=25,$("#signupDental_modal").show(),$("#login_modal_dental").show(),$(".signup_progressbar_dental").hide(),$("#signupnextDental_modal").hide(),$("#signupbackDental_modal").hide())}),$("#signupnextMedical_modal").click(function(){$(this).attr("disabled","disabled"),numOfClicksMedical++,1==numOfClicksMedical&&(c(),$(".signup0_medical").hide(),$(".signup1_medical").hide(),$(".signup2_medical").show(),percentageMedical+=25,$("#changeProgress").attr("aria-valuenow",percentageMedical).css("width",percentageMedical+"%").html("2 of 4")),2==numOfClicksMedical&&(d(),$(".signup2_medical").hide(),$(".signup3_medical").show(),percentageMedical+=25,$("#changeProgress").attr("aria-valuenow",percentageMedical).css("width",percentageMedical+"%").html("3 of 4")),3==numOfClicksMedical&&(e(),$(".signup3_medical").hide(),$(".signup4_medical").show(),$("#signupnextMedical_modal").hide(),$("#signupconfirmMedical_modal").show(),percentageMedical+=25,$("#changeProgress").attr("aria-valuenow",percentageMedical).css("width",percentageMedical+"%").html("4 of 4"))}),$("#signupbackMedical_modal").click(function(){numOfClicksMedical--,2==numOfClicksMedical&&(d(),$(".signup3_medical").show(),$(".signup4_medical").hide(),$("#signupnextMedical_modal").show(),$("#signupconfirmMedical_modal").hide(),percentageMedical-=25,$("#changeProgress").attr("aria-valuenow",percentageMedical).css("width",percentageMedical+"%").html("3 of 4")),1==numOfClicksMedical&&(c(),$(".signup2_medical").show(),$(".signup3_medical").hide(),percentageMedical-=25,$("#changeProgress").attr("aria-valuenow",percentageMedical).css("width",percentageMedical+"%").html("2 of 4")),0==numOfClicksMedical&&(b(),$(".signup0_medical").show(),$(".signup1_medical").show(),$(".signup2_medical").hide(),percentageMedical-=25,$("#changeProgress").attr("aria-valuenow",percentageMedical).css("width",percentageMedical+"%").html("1 of 4")),numOfClicksMedical<0&&($(".signup0_medical").show(),$(".signup1_medical").hide(),numOfClicksMedical=0,percentageMedical-=25,$(".signup_progressbar").hide(),$("#changeProgress").attr("aria-valuenow",percentageMedical).css("width",percentageMedical+"%").html("&nbsp;"),$("#signupMedical_modal").show(),$("#login_modal_medical").show(),$("#signupnextMedical_modal").hide(),$("#signupbackMedical_modal").hide())}),$("#signupconfirmMedical_modal").click(function(){$("#signupconfirmMedical_modal").val("Please wait..."),$("#login_medical_error").html("");var a=$("#selectmedicaldoctor").find(":selected")[0].id;$("#loginmodalmedical input, #loginmodalmedical select").attr("disabled","disabled"),$("#user_name_modal_medical").val()&&$("#password_modal_medical").val()&&$("#medicalNotes").val()&&a&&$("#medicalNotes").val()&&$("#first_name_medical").val()&&$("#last_name_medical").val()&&$("input[name='patient_type_medical']:checked").val()&&$("input[name='sex_medical']:checked").val()&&$("#birthdate_medical").val()&&$("#civil_status_medical").val()&&$("#religion_medical").val()&&$("#nationality_medical").val()&&$("#father_first_medical").val()&&$("#father_last_medical").val()&&$("#mother_first_medical").val()&&$("#mother_last_medical").val()&&$("#street_medical").val()&&$("#town_medical").val()&&$("#province_medical").val()&&$("#personalcontactnumber_medical").val()&&$("#guardian_first_medical").val()&&$("#guardian_last_medical").val()&&$("#guardian_relationship_medical").val()&&$("#guardian_street_medical").val()&&$("#guardian_town_medical").val()&&$("#guardian_province_medical").val()&&$("#guardianresidencecellphone_medical").val()&&$("#illness_history_medical").val()&&$("#operation_history_medical").val()&&$("#allergies_history_medical").val()&&$("#family_history_medical").val()&&$("#maintenance_medication_history_medical").val()?$.post("/signupfrommedicalappointment",{user_name:$("#user_name_modal_medical").val(),password:$("#password_modal_medical").val(),reasons:$("#medicalNotes").val(),schedule_id:a,reasons:$("#medicalNotes").val(),first_name:$("#first_name_medical").val(),middle_name:$("#middle_name_medical").val(),last_name:$("#last_name_medical").val(),patient_type_id:$("input[name='patient_type_medical']:checked").val(),sex:$("input[name='sex_medical']:checked").val(),year_level:$("#yearlevel_medical").val(),degree_program_id:$("#degree_program_medical").val(),birthdate:$("#birthdate_medical").val(),senior_citizen_id:$("#senior_citizen_id_medical").val(),civil_status:$("#civil_status_medical").val(),religion:$("#religion_medical").val(),nationality:$("#nationality_medical").val(),father_first_name:$("#father_first_medical").val(),father_middle_name:$("#father_middle_medical").val(),father_last_name:$("#father_last_medical").val(),mother_first_name:$("#mother_first_medical").val(),mother_middle_name:$("#mother_middle_medical").val(),mother_last_name:$("#mother_last_medical").val(),street:$("#street_medical").val(),town:$("#town_medical").val(),province:$("#province_medical").val(),residencetelephone:$("#residencetelephone_medical").val(),personalcontactnumber:$("#personalcontactnumber_medical").val(),residencecellphone:$("#residencecellphone_medical").val(),guardian_first_name:$("#guardian_first_medical").val(),guardian_middle_name:$("#guardian_middle_medical").val(),guardian_last_name:$("#guardian_last_medical").val(),guardian_relationship:$("#guardian_relationship_medical").val(),guardian_street:$("#guardian_street_medical").val(),guardian_town:$("#guardian_town_medical").val(),guardian_province:$("#guardian_province_medical").val(),guardianresidencetelephone:$("#guardianresidencetelephone_medical").val(),guardianresidencecellphone:$("#guardianresidencecellphone_medical").val(),illness_history:$("#illness_history_medical").val(),operation_history:$("#operation_history_medical").val(),allergies_history:$("#allergies_history_medical").val(),family_history:$("#family_history_medical").val(),maintenance_medication_history:$("#maintenance_medication_history_medical").val()},function(a){"Success"==a.message?($("#login_medical_error").html(""),$("#medicalAppointment").removeClass("panel panel-default").addClass("panel panel-success"),$("#medicalNotes").attr("disabled","disabled"),$("#selectmedicaldate").attr("disabled","disabled"),$("#selectmedicaldoctor").attr("disabled","disabled"),$("#submitMedicalAppointment").addClass("disabled"),$("#medicalAppointmentPanelBody").css("background-color","#d6e9c6"),$("#navigationBar").load(location.href+" #navigationBar"),$("#loginmodalmedical").find("input").attr({disabled:"disabled"}),$("#submitmedicalappointment").attr("disabled","disabled"),setTimeout(function(){$("#loginmodalmedical").modal("hide")},500),$("#signupconfirmMedical_modal").val("Registered!"),setTimeout(function(){$("#signupconfirmMedical_modal").val("Confirm Sign Up")},1e3),$("#appointment_success").modal()):($("#signupconfirmMedical_modal").val("Confirm Sign Up"),$("#loginmodalmedical input, #loginmodalmedical select").removeAttr("disabled"),$("#login_medical_error").css("color","red").delay(2e3).html(a.message))}):($("#signupconfirmMedical_modal").val("Confirm Sign Up"),$("#loginmodalmedical input, #loginmodalmedical select").removeAttr("disabled"),$("#login_medical_error").css("color","red").delay(2e3).html("Please fill out all fields!"))})}),$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-Token":$("meta[name=_token]").attr("content")}}),$(".see_more_announcement").click(function(){id=$(this).attr("id").split("_"),announcementId=id[3],$("#announcement_body_"+announcementId).css({opacity:"0",display:"block"}).show().animate({opacity:1}),$("#hide_announcement_"+announcementId).css("display","block"),$("#see_more_announcement_"+announcementId).css("display","none")}),$(".hide_announcement").click(function(){id=$(this).attr("id").split("_"),console.log(id),announcementId=id[2],$("#announcement_body_"+announcementId).css("display","none"),$("#hide_announcement_"+announcementId).css("display","none"),$("#see_more_announcement_"+announcementId).css("display","block")})});